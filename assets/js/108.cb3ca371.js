(window.webpackJsonp=window.webpackJsonp||[]).push([[108],{427:function(a,s,e){"use strict";e.r(s);var t=e(4),r=Object(t.a)({},(function(){var a=this,s=a._self._c;return s("ContentSlotsDistributor",{attrs:{"slot-key":a.$parent.slotKey}},[s("blockquote",[s("p",[a._v("frida-trace is a tool for dynamically tracing function calls. "),s("a",{attrs:{href:"https://frida.re/docs/frida-trace/",target:"_blank",rel:"noopener noreferrer"}},[a._v("链接"),s("OutboundLink")],1),a._v(". "),s("RouterLink",{attrs:{to:"/pages/9670c2/"}},[a._v("frida 命令记录")])],1)]),a._v(" "),s("ul",[s("li",[s("code",[a._v("frida-trace -h")])]),a._v(" "),s("li",[s("code",[a._v('frida-trace -U -i "Java_*" <package>')]),a._v(" trace JNI 方法")])]),a._v(" "),s("h2",{attrs:{id:"j"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#j"}},[a._v("#")]),a._v(" "),s("code",[a._v("-j")])]),a._v(" "),s("blockquote",[s("p",[a._v("frida-trace 的 "),s("code",[a._v("-j")]),a._v(" 参数用于指定要跟踪的 Java 方法。你可以使用通配符来匹配类名和方法名，从而实现灵活的跟踪规则。以下是一些常见的规则示例:")])]),a._v(" "),s("RText",{attrs:{text:"基本语法"}}),a._v(" "),s("div",{staticClass:"language-bash line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[a._v("frida-trace "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-U")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-j")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[a._v('"<class name>.<method name>"')]),a._v("\n")])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br")])]),s("h3",{attrs:{id:"示例"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#示例"}},[a._v("#")]),a._v(" 示例")]),a._v(" "),s("ol",[s("li",[a._v("跟踪特定类的特定方法")])]),a._v(" "),s("p",[a._v("跟踪 "),s("code",[a._v("com.example.myapp.MainActivity")]),a._v(" 类的 onPause 方法:")]),a._v(" "),s("div",{staticClass:"language-bash line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[a._v("frida-trace "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-U")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-j")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[a._v('"com.example.myapp.MainActivity.onPause"')]),a._v("\n")])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br")])]),s("ol",{attrs:{start:"2"}},[s("li",[a._v("跟踪特定类的所有方法")])]),a._v(" "),s("p",[a._v("跟踪 "),s("code",[a._v("com.example.myapp.MainActivity")]),a._v(" 类的所有方法:")]),a._v(" "),s("div",{staticClass:"language-bash line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[a._v("frida-trace "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-U")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-j")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[a._v('"com.example.myapp.MainActivity.*"')]),a._v("\n")])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br")])]),s("ol",{attrs:{start:"3"}},[s("li",[a._v("跟踪包中的所有类的特定方法")])]),a._v(" "),s("p",[a._v("跟踪 com.example.myapp 包中的所有类的 onPause 方法:")]),a._v(" "),s("div",{staticClass:"language-bash line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[a._v("frida-trace "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-U")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-j")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[a._v('"com.example.myapp.*.onPause"')]),a._v("\n")])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br")])]),s("ol",{attrs:{start:"4"}},[s("li",[a._v("跟踪包中的所有类的所有方法")])]),a._v(" "),s("p",[a._v("跟踪 com.example.myapp 包中的所有类的所有方法:")]),a._v(" "),s("div",{staticClass:"language-bash line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[a._v("frida-trace "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-U")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-j")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[a._v('"com.example.myapp.*.*"')]),a._v("\n")])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br")])]),s("ol",{attrs:{start:"5"}},[s("li",[a._v("跟踪带有特定参数的方法")])]),a._v(" "),s("p",[a._v("跟踪 com.example.myapp.MainActivity 类中，带有 int 类型参数的 setUser 方法:")]),a._v(" "),s("div",{staticClass:"language-bash line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[a._v("frida-trace "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-U")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-j")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[a._v('"com.example.myapp.MainActivity.setUser(int)"')]),a._v("\n")])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br")])]),s("ol",{attrs:{start:"6"}},[s("li",[a._v("跟踪带有多个参数的方法")])]),a._v(" "),s("p",[a._v("跟踪 com.example.myapp.MainActivity 类中，带有 String 和 int 类型参数的 updateUser 方法:")]),a._v(" "),s("div",{staticClass:"language-bash line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[a._v("frida-trace "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-U")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-j")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[a._v('"com.example.myapp.MainActivity.updateUser(java.lang.String, int)"')]),a._v("\n")])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br")])]),s("h3",{attrs:{id:"组合示例"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#组合示例"}},[a._v("#")]),a._v(" 组合示例")]),a._v(" "),s("p",[a._v("使用多个 -j 参数来跟踪多个方法，例如跟踪 onPause 和 onResume 方法:")]),a._v(" "),s("div",{staticClass:"language-bash line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[a._v("frida-trace "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-U")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-j")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[a._v('"com.example.myapp.MainActivity.onPause"')]),a._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-j")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[a._v('"com.example.myapp.MainActivity.onResume"')]),a._v("\n")])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br")])]),s("p",[a._v("跟踪所有 Fragment 的 onPause 和 onResume 方法\n假设你的 Fragment 类都在 com.example.myapp.fragments 包下:")]),a._v(" "),s("div",{staticClass:"language-bash line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[a._v("frida-trace "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-U")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-j")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[a._v('"com.example.myapp.fragments.*.onPause"')]),a._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-j")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[a._v('"com.example.myapp.fragments.*.onResume"')]),a._v("\n``"),s("span",{pre:!0,attrs:{class:"token variable"}},[s("span",{pre:!0,attrs:{class:"token variable"}},[a._v("`")]),a._v("\n\n示例命令\n\n"),s("span",{pre:!0,attrs:{class:"token variable"}},[a._v("`")])]),a._v("`"),s("span",{pre:!0,attrs:{class:"token variable"}},[s("span",{pre:!0,attrs:{class:"token variable"}},[a._v("`")]),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("bash")]),a._v("\nfrida-trace "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-U")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-j")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[a._v('"com.example.myapp.MainActivity.onPause"')]),a._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-j")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[a._v('"com.example.myapp.MainActivity.onResume"')]),a._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-f")]),a._v(" com.example.myapp\n"),s("span",{pre:!0,attrs:{class:"token variable"}},[a._v("`")])]),a._v("`"),s("span",{pre:!0,attrs:{class:"token variable"}},[s("span",{pre:!0,attrs:{class:"token variable"}},[a._v("`")]),a._v("\n\n这条命令将会附加到 com.example.myapp 应用，跟踪 com.example.myapp.MainActivity 类中的 onPause 和 onResume 方法。\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[a._v("## ")]),s("span",{pre:!0,attrs:{class:"token variable"}},[a._v("`")])]),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("!")]),s("span",{pre:!0,attrs:{class:"token variable"}},[s("span",{pre:!0,attrs:{class:"token variable"}},[a._v("`")]),a._v(" 与 "),s("span",{pre:!0,attrs:{class:"token variable"}},[a._v("`")])]),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[a._v(".")]),s("span",{pre:!0,attrs:{class:"token variable"}},[s("span",{pre:!0,attrs:{class:"token variable"}},[a._v("`")]),a._v("\n\n"),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v(">")]),a._v(" 使用 "),s("span",{pre:!0,attrs:{class:"token variable"}},[a._v("`")])]),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("!")]),s("span",{pre:!0,attrs:{class:"token variable"}},[s("span",{pre:!0,attrs:{class:"token variable"}},[a._v("`")]),a._v(" 符号可以更简洁地指定要跟踪的方法，提高规则的可读性和简洁性。\n\n- "),s("span",{pre:!0,attrs:{class:"token variable"}},[a._v("`")])]),a._v("-j "),s("span",{pre:!0,attrs:{class:"token string"}},[a._v("'com.example.myapp.MainActivity!*'")]),s("span",{pre:!0,attrs:{class:"token variable"}},[s("span",{pre:!0,attrs:{class:"token variable"}},[a._v("`")]),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[a._v(":")]),a._v(" 使用 "),s("span",{pre:!0,attrs:{class:"token variable"}},[a._v("`")])]),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("!")]),s("span",{pre:!0,attrs:{class:"token variable"}},[s("span",{pre:!0,attrs:{class:"token variable"}},[a._v("`")]),a._v(" 符号表示跟踪指定类中的所有方法，包括私有方法和继承自父类的方法。\n- "),s("span",{pre:!0,attrs:{class:"token variable"}},[a._v("`")])]),a._v("-j "),s("span",{pre:!0,attrs:{class:"token string"}},[a._v("'com.example.myapp.MainActivity.*'")]),s("span",{pre:!0,attrs:{class:"token variable"}},[s("span",{pre:!0,attrs:{class:"token variable"}},[a._v("`")]),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[a._v(":")]),a._v(" 使用 "),s("span",{pre:!0,attrs:{class:"token variable"}},[a._v("`")])]),a._v(".` 符号表示跟踪指定类中的所有方法，但不一定包括私有方法和继承的方法。")])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br"),s("span",{staticClass:"line-number"},[a._v("2")]),s("br"),s("span",{staticClass:"line-number"},[a._v("3")]),s("br"),s("span",{staticClass:"line-number"},[a._v("4")]),s("br"),s("span",{staticClass:"line-number"},[a._v("5")]),s("br"),s("span",{staticClass:"line-number"},[a._v("6")]),s("br"),s("span",{staticClass:"line-number"},[a._v("7")]),s("br"),s("span",{staticClass:"line-number"},[a._v("8")]),s("br"),s("span",{staticClass:"line-number"},[a._v("9")]),s("br"),s("span",{staticClass:"line-number"},[a._v("10")]),s("br"),s("span",{staticClass:"line-number"},[a._v("11")]),s("br"),s("span",{staticClass:"line-number"},[a._v("12")]),s("br"),s("span",{staticClass:"line-number"},[a._v("13")]),s("br"),s("span",{staticClass:"line-number"},[a._v("14")]),s("br"),s("span",{staticClass:"line-number"},[a._v("15")]),s("br"),s("span",{staticClass:"line-number"},[a._v("16")]),s("br")])])],1)}),[],!1,null,null,null);s.default=r.exports}}]);