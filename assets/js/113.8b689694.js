(window.webpackJsonp=window.webpackJsonp||[]).push([[113],{432:function(a,t,s){"use strict";s.r(t);var e=s(4),n=Object(e.a)({},(function(){var a=this,t=a._self._c;return t("ContentSlotsDistributor",{attrs:{"slot-key":a.$parent.slotKey}},[t("h2",{attrs:{id:"misc"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#misc"}},[a._v("#")]),a._v(" misc")]),a._v(" "),t("ul",[t("li",[t("code",[a._v("application/data/install/install.lock")]),a._v(": To re install, please remove")]),a._v(" "),t("li",[t("code",[a._v("$this->fetch")]),a._v(", 在 controller 中搜索此字符串，方便定义 view 的 assign")])]),a._v(" "),t("p",[a._v("todo")]),a._v(" "),t("ul",[t("li",[a._v("幻灯片设置")]),a._v(" "),t("li",[a._v("视频播放无详情")]),a._v(" "),t("li",[a._v("图片保存，图床？")]),a._v(" "),t("li",[a._v("视频/服务器组？")])]),a._v(" "),t("h3",{attrs:{id:"debug"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#debug"}},[a._v("#")]),a._v(" debug")]),a._v(" "),t("ul",[t("li",[t("code",[a._v("Log::record('>>'.json_encode($res), Log::DEBUG);")]),a._v(" log it")]),a._v(" "),t("li",[t("code",[a._v("App::$debug && Log::record('[ SESSION ] INIT ' . var_export($config, true), 'info');")]),a._v(": var_export")]),a._v(" "),t("li",[t("code",[a._v("thinkphp/convention.php")])]),a._v(" "),t("li",[t("code",[a._v("App::$debug && Log::record('[ VIEW ] ' . $template . ' [ ' . var_export(array_keys($data), true) . ' ]', 'info');")]),a._v(": dump 模板变量")])]),a._v(" "),t("div",{staticClass:"language-php line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-php"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("// 应用调试模式")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token string single-quoted-string"}},[a._v("'app_debug'")]),a._v("              "),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=>")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token constant boolean"}},[a._v("true")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("// 应用Trace")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token string single-quoted-string"}},[a._v("'app_trace'")]),a._v("              "),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=>")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token constant boolean"}},[a._v("true")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v("\n")])]),a._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[a._v("1")]),t("br"),t("span",{staticClass:"line-number"},[a._v("2")]),t("br"),t("span",{staticClass:"line-number"},[a._v("3")]),t("br"),t("span",{staticClass:"line-number"},[a._v("4")]),t("br")])]),t("h3",{attrs:{id:"log"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#log"}},[a._v("#")]),a._v(" log")]),a._v(" "),t("ul",[t("li",[t("code",[a._v("[ RUN ]")]),a._v(" 执行")]),a._v(" "),t("li",[t("code",[a._v("[ VIEW ]")]),a._v(" 试图绑定")])]),a._v(" "),t("h3",{attrs:{id:"config"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#config"}},[a._v("#")]),a._v(" config")]),a._v(" "),t("RText",{attrs:{text:"搜索如下关键字定位配置文件"}}),a._v(" "),t("div",{staticClass:"language-text line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v("&lt;?php\nreturn array\n")])]),a._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[a._v("1")]),t("br"),t("span",{staticClass:"line-number"},[a._v("2")]),t("br")])]),t("hr"),a._v(" "),t("ul",[t("li",[t("code",[a._v("application/database.php")]),a._v(": database config")]),a._v(" "),t("li",[t("code",[a._v("application/config.php")]),a._v(": application config")]),a._v(" "),t("li",[t("code",[a._v("application/extra/maccms.php")]),a._v(": maccms config")]),a._v(" "),t("li",[t("code",[a._v("application/extra/timming.php")])]),a._v(" "),t("li",[t("code",[a._v("application/extra/mxonest.php")]),a._v(": mxone config")]),a._v(" "),t("li",[t("code",[a._v("application/admin/common/auth.php")]),a._v(":")]),a._v(" "),t("li",[t("code",[a._v('template/mxone/info.ini"')]),a._v(" mxone 主题配置")])]),a._v(" "),t("h3",{attrs:{id:"apm"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#apm"}},[a._v("#")]),a._v(" apm")]),a._v(" "),t("p",[a._v("性能相关配置. TODO")]),a._v(" "),t("h3",{attrs:{id:"部署-app"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#部署-app"}},[a._v("#")]),a._v(" 部署 app")]),a._v(" "),t("p",[a._v("todo")]),a._v(" "),t("h2",{attrs:{id:"snip"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#snip"}},[a._v("#")]),a._v(" snip")]),a._v(" "),t("h3",{attrs:{id:"checkcache"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#checkcache"}},[a._v("#")]),a._v(" checkCache")]),a._v(" "),t("div",{staticClass:"language-php line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-php"}},[t("code",[a._v('//检查缓存并保持登录状态\nfunction checkCache(){\n  // 使用 jQuery 的 $.ajax 方法发送异步 HTTP 请求。\n  $.ajax({\n      // ThinkPHP 的模板引擎标签，适用于在模板文件\n      // url: "{ :url(\'checkcache\') }",\n\n      // PHP 代码，适用于在 PHP 文件中使用，也可以嵌入到模板文件中。\n      url: "'),t("span",{pre:!0,attrs:{class:"token php language-php"}},[t("span",{pre:!0,attrs:{class:"token delimiter important"}},[a._v("<?php")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("echo")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[a._v("url")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),t("span",{pre:!0,attrs:{class:"token string single-quoted-string"}},[a._v("'checkcache'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token delimiter important"}},[a._v("?>")])]),a._v("\",\n      cache: false,\n      success: function(r){\n          if(r=='haved'){\n              layer.msg('"),t("span",{pre:!0,attrs:{class:"token php language-php"}},[t("span",{pre:!0,attrs:{class:"token delimiter important"}},[a._v("<?php")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("echo")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[a._v("lang")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),t("span",{pre:!0,attrs:{class:"token string double-quoted-string"}},[a._v('"admin/index/cache_data"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token delimiter important"}},[a._v("?>")])]),a._v("', {time: 3000});\n          }\n      }\n  });\n}\n")])]),a._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[a._v("1")]),t("br"),t("span",{staticClass:"line-number"},[a._v("2")]),t("br"),t("span",{staticClass:"line-number"},[a._v("3")]),t("br"),t("span",{staticClass:"line-number"},[a._v("4")]),t("br"),t("span",{staticClass:"line-number"},[a._v("5")]),t("br"),t("span",{staticClass:"line-number"},[a._v("6")]),t("br"),t("span",{staticClass:"line-number"},[a._v("7")]),t("br"),t("span",{staticClass:"line-number"},[a._v("8")]),t("br"),t("span",{staticClass:"line-number"},[a._v("9")]),t("br"),t("span",{staticClass:"line-number"},[a._v("10")]),t("br"),t("span",{staticClass:"line-number"},[a._v("11")]),t("br"),t("span",{staticClass:"line-number"},[a._v("12")]),t("br"),t("span",{staticClass:"line-number"},[a._v("13")]),t("br"),t("span",{staticClass:"line-number"},[a._v("14")]),t("br"),t("span",{staticClass:"line-number"},[a._v("15")]),t("br"),t("span",{staticClass:"line-number"},[a._v("16")]),t("br"),t("span",{staticClass:"line-number"},[a._v("17")]),t("br")])]),t("RText",{attrs:{text:"AJAX 配置:"}}),a._v(" "),t("ul",[t("li",[t("code",[a._v("url: \"<?php echo url('checkcache'); ?>\"")]),a._v(": 请求的 URL，通过 PHP 的 url 函数生成。")]),a._v(" "),t("li",[t("code",[a._v("cache: false")]),a._v(": 禁用浏览器缓存，确保每次请求都会发送到服务器。")]),a._v(" "),t("li",[t("code",[a._v("success: function(r){ ... }")]),a._v(": 请求成功时的回调函数，r 是服务器的响应。")])]),a._v(" "),t("RText",{attrs:{text:"响应处理:"}}),a._v(" "),t("ul",[t("li",[t("code",[a._v("if(r=='haved'){ ... }")]),a._v(": 如果服务器响应为字符串 'haved'，则显示一条消息。")]),a._v(" "),t("li",[t("code",[a._v("layer.msg('<?php echo lang(\"admin/index/cache_data\"); ?>', {time: 3000});")]),a._v(": 使用 layer.msg 显示一条消息，内容通过 PHP 的 lang 函数获取，并持续 3000 毫秒。(Layer 弹出层插件的函数)")])]),a._v(" "),t("h2",{attrs:{id:"解析-tag"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#解析-tag"}},[a._v("#")]),a._v(" 解析 tag")]),a._v(" "),t("h3",{attrs:{id:"vod-down-from-not-found"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#vod-down-from-not-found"}},[a._v("#")]),a._v(" vod_down_from not found")]),a._v(" "),t("div",{staticClass:"language-php line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-php"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("// from")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("{")]),a._v("notempty name"),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),t("span",{pre:!0,attrs:{class:"token string double-quoted-string"}},[a._v('"obj[vod_down_from]"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("}")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("// to")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("{")]),a._v("notempty name"),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),t("span",{pre:!0,attrs:{class:"token string double-quoted-string"}},[a._v("\"obj['vod_down_from']\"")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("}")]),a._v("\n")])]),a._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[a._v("1")]),t("br"),t("span",{staticClass:"line-number"},[a._v("2")]),t("br"),t("span",{staticClass:"line-number"},[a._v("3")]),t("br"),t("span",{staticClass:"line-number"},[a._v("4")]),t("br")])]),t("RText",{attrs:{text:"区别:"}}),a._v(" "),t("p",[t("code",[a._v('{notempty name="obj[vod_down_from]"}')]),a._v(":")]),a._v(" "),t("p",[a._v("这行代码中，name 参数的值是一个带有变量的字符串，其中变量 vod_down_from 没有使用引号括起来。\nSmarty 会尝试解析 obj[vod_down_from]，并查找变量名为 vod_down_from 的变量，然后检查它是否存在且不为空。")]),a._v(" "),t("p",[t("code",[a._v("{notempty name=\"obj['vod_down_from']\"}")]),a._v(":")]),a._v(" "),t("p",[a._v("这行代码中，name 参数的值是一个字符串，其中的变量名 vod_down_from 被单引号括起来。\nSmarty 会直接将整个字符串 obj['vod_down_from']视为一个变量名，并尝试解析它，然后检查解析后的变量是否存在且不为空。")]),a._v(" "),t("h2",{attrs:{id:"thinkphp-框架"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#thinkphp-框架"}},[a._v("#")]),a._v(" ThinkPHP 框架")]),a._v(" "),t("h3",{attrs:{id:"arrayaccess-接口"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#arrayaccess-接口"}},[a._v("#")]),a._v(" ArrayAccess 接口")]),a._v(" "),t("p",[a._v("实现 ArrayAccess 接口的其他方法")]),a._v(" "),t("ul",[t("li",[t("code",[a._v("offsetExists($name)")]),a._v(": 检查某个属性是否存在")]),a._v(" "),t("li",[t("code",[a._v("offsetSet($name, $value)")]),a._v(": 设置属性。")]),a._v(" "),t("li",[t("code",[a._v("offsetGet($name)")]),a._v(": 获取属性。")]),a._v(" "),t("li",[t("code",[a._v("offsetUnset($name)")]),a._v(": 移除属性。")])])],1)}),[],!1,null,null,null);t.default=n.exports}}]);