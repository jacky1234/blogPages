<!DOCTYPE html>
<html lang="zh-CN">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>javascript snip | Jacky&#39;s blog</title>
    <meta name="generator" content="VuePress 1.9.9">
    
    <meta name="description" content="勤学如春起之苗, 不见其增, 日有所长；辍学如磨刀之石, 不见其损, 日有所亏。">
    <meta name="theme-color" content="#3eaf7c">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    
    <link rel="preload" href="/blogPages/assets/css/0.styles.83b5fbe5.css" as="style"><link rel="preload" href="/blogPages/assets/js/app.7e06e929.js" as="script"><link rel="preload" href="/blogPages/assets/js/2.ce95ee6e.js" as="script"><link rel="preload" href="/blogPages/assets/js/251.cd3b8b6c.js" as="script"><link rel="preload" href="/blogPages/assets/js/6.69b19f48.js" as="script"><link rel="prefetch" href="/blogPages/assets/js/10.effd2b33.js"><link rel="prefetch" href="/blogPages/assets/js/100.856fcc53.js"><link rel="prefetch" href="/blogPages/assets/js/101.2fe04807.js"><link rel="prefetch" href="/blogPages/assets/js/102.a570fe0b.js"><link rel="prefetch" href="/blogPages/assets/js/103.00546020.js"><link rel="prefetch" href="/blogPages/assets/js/104.d78b38da.js"><link rel="prefetch" href="/blogPages/assets/js/105.8feb4296.js"><link rel="prefetch" href="/blogPages/assets/js/106.e16f62e7.js"><link rel="prefetch" href="/blogPages/assets/js/107.1750545e.js"><link rel="prefetch" href="/blogPages/assets/js/108.cb3ca371.js"><link rel="prefetch" href="/blogPages/assets/js/109.e6ef1c19.js"><link rel="prefetch" href="/blogPages/assets/js/11.713c286e.js"><link rel="prefetch" href="/blogPages/assets/js/110.38b88640.js"><link rel="prefetch" href="/blogPages/assets/js/111.546521ea.js"><link rel="prefetch" href="/blogPages/assets/js/112.6b0ef40e.js"><link rel="prefetch" href="/blogPages/assets/js/113.8b689694.js"><link rel="prefetch" href="/blogPages/assets/js/114.efb0d75d.js"><link rel="prefetch" href="/blogPages/assets/js/115.b3450440.js"><link rel="prefetch" href="/blogPages/assets/js/116.59a8a82a.js"><link rel="prefetch" href="/blogPages/assets/js/117.a9e3d4c3.js"><link rel="prefetch" href="/blogPages/assets/js/118.1958ce33.js"><link rel="prefetch" href="/blogPages/assets/js/119.405c1672.js"><link rel="prefetch" href="/blogPages/assets/js/12.2815f35b.js"><link rel="prefetch" href="/blogPages/assets/js/120.e2740dd1.js"><link rel="prefetch" href="/blogPages/assets/js/121.0aa78c4e.js"><link rel="prefetch" href="/blogPages/assets/js/122.7fe22975.js"><link rel="prefetch" href="/blogPages/assets/js/123.7e9ba265.js"><link rel="prefetch" href="/blogPages/assets/js/124.de810087.js"><link rel="prefetch" href="/blogPages/assets/js/125.de7aba6e.js"><link rel="prefetch" href="/blogPages/assets/js/126.b8d307f4.js"><link rel="prefetch" href="/blogPages/assets/js/127.b944c6bd.js"><link rel="prefetch" href="/blogPages/assets/js/128.d9fbd218.js"><link rel="prefetch" href="/blogPages/assets/js/129.9f32686a.js"><link rel="prefetch" href="/blogPages/assets/js/13.d27b9fe5.js"><link rel="prefetch" href="/blogPages/assets/js/130.4234001e.js"><link rel="prefetch" href="/blogPages/assets/js/131.5fbc5fd4.js"><link rel="prefetch" href="/blogPages/assets/js/132.6e85e726.js"><link rel="prefetch" href="/blogPages/assets/js/133.1b9b2012.js"><link rel="prefetch" href="/blogPages/assets/js/134.ddd33937.js"><link rel="prefetch" href="/blogPages/assets/js/135.cb7a50a2.js"><link rel="prefetch" href="/blogPages/assets/js/136.db91a988.js"><link rel="prefetch" href="/blogPages/assets/js/137.f31a522d.js"><link rel="prefetch" href="/blogPages/assets/js/138.367e06be.js"><link rel="prefetch" href="/blogPages/assets/js/139.769ea4af.js"><link rel="prefetch" href="/blogPages/assets/js/14.fdde4a68.js"><link rel="prefetch" href="/blogPages/assets/js/140.2ee3edb4.js"><link rel="prefetch" href="/blogPages/assets/js/141.1244633c.js"><link rel="prefetch" href="/blogPages/assets/js/142.66c748b7.js"><link rel="prefetch" href="/blogPages/assets/js/143.24875298.js"><link rel="prefetch" href="/blogPages/assets/js/144.9812ea81.js"><link rel="prefetch" href="/blogPages/assets/js/145.acd0069a.js"><link rel="prefetch" href="/blogPages/assets/js/146.39ce1178.js"><link rel="prefetch" href="/blogPages/assets/js/147.8272cac5.js"><link rel="prefetch" href="/blogPages/assets/js/148.b96b2996.js"><link rel="prefetch" href="/blogPages/assets/js/149.d150cff8.js"><link rel="prefetch" href="/blogPages/assets/js/15.222f035d.js"><link rel="prefetch" href="/blogPages/assets/js/150.50288e9f.js"><link rel="prefetch" href="/blogPages/assets/js/151.0eb10e98.js"><link rel="prefetch" href="/blogPages/assets/js/152.b01dd6dc.js"><link rel="prefetch" href="/blogPages/assets/js/153.5bbdea0d.js"><link rel="prefetch" href="/blogPages/assets/js/154.c2893844.js"><link rel="prefetch" href="/blogPages/assets/js/155.b4853cfe.js"><link rel="prefetch" href="/blogPages/assets/js/156.3a320751.js"><link rel="prefetch" href="/blogPages/assets/js/157.2a6c017a.js"><link rel="prefetch" href="/blogPages/assets/js/158.a526bc4b.js"><link rel="prefetch" href="/blogPages/assets/js/159.0fa12b9e.js"><link rel="prefetch" href="/blogPages/assets/js/16.32123a80.js"><link rel="prefetch" href="/blogPages/assets/js/160.794a2fab.js"><link rel="prefetch" href="/blogPages/assets/js/161.37ca7986.js"><link rel="prefetch" href="/blogPages/assets/js/162.f326722e.js"><link rel="prefetch" href="/blogPages/assets/js/163.713a7700.js"><link rel="prefetch" href="/blogPages/assets/js/164.bf9a07e3.js"><link rel="prefetch" href="/blogPages/assets/js/165.7daed5e5.js"><link rel="prefetch" href="/blogPages/assets/js/166.d60901fe.js"><link rel="prefetch" href="/blogPages/assets/js/167.1db96ae6.js"><link rel="prefetch" href="/blogPages/assets/js/168.06a6de79.js"><link rel="prefetch" href="/blogPages/assets/js/169.b28e42a7.js"><link rel="prefetch" href="/blogPages/assets/js/17.80f38037.js"><link rel="prefetch" href="/blogPages/assets/js/170.5e2b19ac.js"><link rel="prefetch" href="/blogPages/assets/js/171.90db8586.js"><link rel="prefetch" href="/blogPages/assets/js/172.cc24f14b.js"><link rel="prefetch" href="/blogPages/assets/js/173.fe9a6f35.js"><link rel="prefetch" href="/blogPages/assets/js/174.374b8ab4.js"><link rel="prefetch" href="/blogPages/assets/js/175.096a945e.js"><link rel="prefetch" href="/blogPages/assets/js/176.284db50d.js"><link rel="prefetch" href="/blogPages/assets/js/177.6e9e60bf.js"><link rel="prefetch" href="/blogPages/assets/js/178.48bedc23.js"><link rel="prefetch" href="/blogPages/assets/js/179.c2841c5f.js"><link rel="prefetch" href="/blogPages/assets/js/18.a934f28e.js"><link rel="prefetch" href="/blogPages/assets/js/180.832ec21f.js"><link rel="prefetch" href="/blogPages/assets/js/181.edf08aa8.js"><link rel="prefetch" href="/blogPages/assets/js/182.24f1be2e.js"><link rel="prefetch" href="/blogPages/assets/js/183.52a67e98.js"><link rel="prefetch" href="/blogPages/assets/js/184.c5b66db2.js"><link rel="prefetch" href="/blogPages/assets/js/185.1530ae0c.js"><link rel="prefetch" href="/blogPages/assets/js/186.fff99cfa.js"><link rel="prefetch" href="/blogPages/assets/js/187.33cf6355.js"><link rel="prefetch" href="/blogPages/assets/js/188.2bee451f.js"><link rel="prefetch" href="/blogPages/assets/js/189.9ad6c9bc.js"><link rel="prefetch" href="/blogPages/assets/js/19.afa8e383.js"><link rel="prefetch" href="/blogPages/assets/js/190.e09ec135.js"><link rel="prefetch" href="/blogPages/assets/js/191.e442adbb.js"><link rel="prefetch" href="/blogPages/assets/js/192.1d52114b.js"><link rel="prefetch" href="/blogPages/assets/js/193.dd17e4c6.js"><link rel="prefetch" href="/blogPages/assets/js/194.807a9f9b.js"><link rel="prefetch" href="/blogPages/assets/js/195.714e39d4.js"><link rel="prefetch" href="/blogPages/assets/js/196.dec82a34.js"><link rel="prefetch" href="/blogPages/assets/js/197.2ae1eb8f.js"><link rel="prefetch" href="/blogPages/assets/js/198.a118e965.js"><link rel="prefetch" href="/blogPages/assets/js/199.b9ee0287.js"><link rel="prefetch" href="/blogPages/assets/js/20.6d521f87.js"><link rel="prefetch" href="/blogPages/assets/js/200.43ba144f.js"><link rel="prefetch" href="/blogPages/assets/js/201.367b7a45.js"><link rel="prefetch" href="/blogPages/assets/js/202.38830093.js"><link rel="prefetch" href="/blogPages/assets/js/203.a2f798c8.js"><link rel="prefetch" href="/blogPages/assets/js/204.b6ea19da.js"><link rel="prefetch" href="/blogPages/assets/js/205.db88bf4e.js"><link rel="prefetch" href="/blogPages/assets/js/206.7e6160bd.js"><link rel="prefetch" href="/blogPages/assets/js/207.689001c6.js"><link rel="prefetch" href="/blogPages/assets/js/208.f95afd68.js"><link rel="prefetch" href="/blogPages/assets/js/209.52968bd5.js"><link rel="prefetch" href="/blogPages/assets/js/21.891edb5e.js"><link rel="prefetch" href="/blogPages/assets/js/210.81ce8c94.js"><link rel="prefetch" href="/blogPages/assets/js/211.10b3d3a1.js"><link rel="prefetch" href="/blogPages/assets/js/212.b59c8e05.js"><link rel="prefetch" href="/blogPages/assets/js/213.4f466de5.js"><link rel="prefetch" href="/blogPages/assets/js/214.79e0d90a.js"><link rel="prefetch" href="/blogPages/assets/js/215.be04d383.js"><link rel="prefetch" href="/blogPages/assets/js/216.30ed7240.js"><link rel="prefetch" href="/blogPages/assets/js/217.dc1e844c.js"><link rel="prefetch" href="/blogPages/assets/js/218.8b529da0.js"><link rel="prefetch" href="/blogPages/assets/js/219.bdfd22ce.js"><link rel="prefetch" href="/blogPages/assets/js/22.9cefb9ed.js"><link rel="prefetch" href="/blogPages/assets/js/220.cd2d6b20.js"><link rel="prefetch" href="/blogPages/assets/js/221.e378215e.js"><link rel="prefetch" href="/blogPages/assets/js/222.96f337e3.js"><link rel="prefetch" href="/blogPages/assets/js/223.10e37547.js"><link rel="prefetch" href="/blogPages/assets/js/224.6613fa26.js"><link rel="prefetch" href="/blogPages/assets/js/225.e8de9e4b.js"><link rel="prefetch" href="/blogPages/assets/js/226.52cf7a7e.js"><link rel="prefetch" href="/blogPages/assets/js/227.6e1150c5.js"><link rel="prefetch" href="/blogPages/assets/js/228.59195d3c.js"><link rel="prefetch" href="/blogPages/assets/js/229.7a8af49b.js"><link rel="prefetch" href="/blogPages/assets/js/23.3e7db05d.js"><link rel="prefetch" href="/blogPages/assets/js/230.b59e7082.js"><link rel="prefetch" href="/blogPages/assets/js/231.c7b11961.js"><link rel="prefetch" href="/blogPages/assets/js/232.4d615f62.js"><link rel="prefetch" href="/blogPages/assets/js/233.322e6a38.js"><link rel="prefetch" href="/blogPages/assets/js/234.f726741a.js"><link rel="prefetch" href="/blogPages/assets/js/235.2d2fc6b7.js"><link rel="prefetch" href="/blogPages/assets/js/236.b0765fb6.js"><link rel="prefetch" href="/blogPages/assets/js/237.b522514f.js"><link rel="prefetch" href="/blogPages/assets/js/238.b0a10949.js"><link rel="prefetch" href="/blogPages/assets/js/239.e05cd6f7.js"><link rel="prefetch" href="/blogPages/assets/js/24.09089cf2.js"><link rel="prefetch" href="/blogPages/assets/js/240.8017efae.js"><link rel="prefetch" href="/blogPages/assets/js/241.a647dc00.js"><link rel="prefetch" href="/blogPages/assets/js/242.a39755a2.js"><link rel="prefetch" href="/blogPages/assets/js/243.f22cc879.js"><link rel="prefetch" href="/blogPages/assets/js/244.0251a355.js"><link rel="prefetch" href="/blogPages/assets/js/245.030f97d6.js"><link rel="prefetch" href="/blogPages/assets/js/246.eb65f86c.js"><link rel="prefetch" href="/blogPages/assets/js/247.83f1228a.js"><link rel="prefetch" href="/blogPages/assets/js/248.8baf02b9.js"><link rel="prefetch" href="/blogPages/assets/js/249.c12ad9dd.js"><link rel="prefetch" href="/blogPages/assets/js/25.1dcde82e.js"><link rel="prefetch" href="/blogPages/assets/js/250.1e367ae0.js"><link rel="prefetch" href="/blogPages/assets/js/252.c1d9e95b.js"><link rel="prefetch" href="/blogPages/assets/js/253.0f3b2b2b.js"><link rel="prefetch" href="/blogPages/assets/js/254.1300bf58.js"><link rel="prefetch" href="/blogPages/assets/js/255.e71e8fd1.js"><link rel="prefetch" href="/blogPages/assets/js/256.a781b878.js"><link rel="prefetch" href="/blogPages/assets/js/257.6047bce5.js"><link rel="prefetch" href="/blogPages/assets/js/258.2b75ca4f.js"><link rel="prefetch" href="/blogPages/assets/js/259.3dac3542.js"><link rel="prefetch" href="/blogPages/assets/js/26.442a5284.js"><link rel="prefetch" href="/blogPages/assets/js/260.4f015c64.js"><link rel="prefetch" href="/blogPages/assets/js/261.bbd6a104.js"><link rel="prefetch" href="/blogPages/assets/js/262.543e9a41.js"><link rel="prefetch" href="/blogPages/assets/js/263.45578d1f.js"><link rel="prefetch" href="/blogPages/assets/js/264.961c7815.js"><link rel="prefetch" href="/blogPages/assets/js/265.393c48e3.js"><link rel="prefetch" href="/blogPages/assets/js/266.6a246b1d.js"><link rel="prefetch" href="/blogPages/assets/js/267.5ead7519.js"><link rel="prefetch" href="/blogPages/assets/js/268.ac8f322a.js"><link rel="prefetch" href="/blogPages/assets/js/269.2c7ceab6.js"><link rel="prefetch" href="/blogPages/assets/js/27.1a40b968.js"><link rel="prefetch" href="/blogPages/assets/js/270.0574c03d.js"><link rel="prefetch" href="/blogPages/assets/js/271.f1659e2f.js"><link rel="prefetch" href="/blogPages/assets/js/272.eb2050fc.js"><link rel="prefetch" href="/blogPages/assets/js/273.354a789a.js"><link rel="prefetch" href="/blogPages/assets/js/274.1228e133.js"><link rel="prefetch" href="/blogPages/assets/js/275.394c4ec9.js"><link rel="prefetch" href="/blogPages/assets/js/276.65895377.js"><link rel="prefetch" href="/blogPages/assets/js/277.7839383e.js"><link rel="prefetch" href="/blogPages/assets/js/28.865d52b2.js"><link rel="prefetch" href="/blogPages/assets/js/29.8acf9431.js"><link rel="prefetch" href="/blogPages/assets/js/3.42b83bd2.js"><link rel="prefetch" href="/blogPages/assets/js/30.94f1b647.js"><link rel="prefetch" href="/blogPages/assets/js/31.708ebdf9.js"><link rel="prefetch" href="/blogPages/assets/js/32.7f03de55.js"><link rel="prefetch" href="/blogPages/assets/js/33.4f017467.js"><link rel="prefetch" href="/blogPages/assets/js/34.f5c2f907.js"><link rel="prefetch" href="/blogPages/assets/js/35.aa001f48.js"><link rel="prefetch" href="/blogPages/assets/js/36.eb60c85a.js"><link rel="prefetch" href="/blogPages/assets/js/37.e31fbe86.js"><link rel="prefetch" href="/blogPages/assets/js/38.952a3c65.js"><link rel="prefetch" href="/blogPages/assets/js/39.fa701de3.js"><link rel="prefetch" href="/blogPages/assets/js/4.cad3a178.js"><link rel="prefetch" href="/blogPages/assets/js/40.f1146ac7.js"><link rel="prefetch" href="/blogPages/assets/js/41.b41b1524.js"><link rel="prefetch" href="/blogPages/assets/js/42.67e51ac3.js"><link rel="prefetch" href="/blogPages/assets/js/43.5b8ee8b1.js"><link rel="prefetch" href="/blogPages/assets/js/44.7a2933f9.js"><link rel="prefetch" href="/blogPages/assets/js/45.43eca009.js"><link rel="prefetch" href="/blogPages/assets/js/46.8b17b531.js"><link rel="prefetch" href="/blogPages/assets/js/47.51f3b902.js"><link rel="prefetch" href="/blogPages/assets/js/48.dcdcecdf.js"><link rel="prefetch" href="/blogPages/assets/js/49.7ebd93d4.js"><link rel="prefetch" href="/blogPages/assets/js/5.9b78ed29.js"><link rel="prefetch" href="/blogPages/assets/js/50.bc20668e.js"><link rel="prefetch" href="/blogPages/assets/js/51.f624689e.js"><link rel="prefetch" href="/blogPages/assets/js/52.32587c4c.js"><link rel="prefetch" href="/blogPages/assets/js/53.9597d1d9.js"><link rel="prefetch" href="/blogPages/assets/js/54.ebbd8840.js"><link rel="prefetch" href="/blogPages/assets/js/55.216003cc.js"><link rel="prefetch" href="/blogPages/assets/js/56.d8aa6c5c.js"><link rel="prefetch" href="/blogPages/assets/js/57.d6b75d95.js"><link rel="prefetch" href="/blogPages/assets/js/58.c26ae01e.js"><link rel="prefetch" href="/blogPages/assets/js/59.2e9430c6.js"><link rel="prefetch" href="/blogPages/assets/js/60.d0b4f988.js"><link rel="prefetch" href="/blogPages/assets/js/61.56295b49.js"><link rel="prefetch" href="/blogPages/assets/js/62.a80cb665.js"><link rel="prefetch" href="/blogPages/assets/js/63.6fc0066e.js"><link rel="prefetch" href="/blogPages/assets/js/64.40c9dcdc.js"><link rel="prefetch" href="/blogPages/assets/js/65.ea35b2e8.js"><link rel="prefetch" href="/blogPages/assets/js/66.2b77f97d.js"><link rel="prefetch" href="/blogPages/assets/js/67.ce376cf5.js"><link rel="prefetch" href="/blogPages/assets/js/68.588eaf51.js"><link rel="prefetch" href="/blogPages/assets/js/69.bb1ef415.js"><link rel="prefetch" href="/blogPages/assets/js/7.0e22bc5e.js"><link rel="prefetch" href="/blogPages/assets/js/70.8fc3bef9.js"><link rel="prefetch" href="/blogPages/assets/js/71.e445ff46.js"><link rel="prefetch" href="/blogPages/assets/js/72.51a05da1.js"><link rel="prefetch" href="/blogPages/assets/js/73.3e9b6a2b.js"><link rel="prefetch" href="/blogPages/assets/js/74.3719d2db.js"><link rel="prefetch" href="/blogPages/assets/js/75.74255ca6.js"><link rel="prefetch" href="/blogPages/assets/js/76.1b43e06f.js"><link rel="prefetch" href="/blogPages/assets/js/77.1fd95d8f.js"><link rel="prefetch" href="/blogPages/assets/js/78.7c73f45b.js"><link rel="prefetch" href="/blogPages/assets/js/79.a31c58be.js"><link rel="prefetch" href="/blogPages/assets/js/8.5fb41da7.js"><link rel="prefetch" href="/blogPages/assets/js/80.92e6bf0a.js"><link rel="prefetch" href="/blogPages/assets/js/81.84f5f558.js"><link rel="prefetch" href="/blogPages/assets/js/82.4ad9f313.js"><link rel="prefetch" href="/blogPages/assets/js/83.d767f201.js"><link rel="prefetch" href="/blogPages/assets/js/84.f85a0682.js"><link rel="prefetch" href="/blogPages/assets/js/85.d23f3225.js"><link rel="prefetch" href="/blogPages/assets/js/86.d30659c0.js"><link rel="prefetch" href="/blogPages/assets/js/87.060b5818.js"><link rel="prefetch" href="/blogPages/assets/js/88.391b0507.js"><link rel="prefetch" href="/blogPages/assets/js/89.f5f35918.js"><link rel="prefetch" href="/blogPages/assets/js/9.a45a02f8.js"><link rel="prefetch" href="/blogPages/assets/js/90.f6afb3ec.js"><link rel="prefetch" href="/blogPages/assets/js/91.9028eb49.js"><link rel="prefetch" href="/blogPages/assets/js/92.4607a108.js"><link rel="prefetch" href="/blogPages/assets/js/93.780c6d79.js"><link rel="prefetch" href="/blogPages/assets/js/94.11ed27dd.js"><link rel="prefetch" href="/blogPages/assets/js/95.dc3ecec1.js"><link rel="prefetch" href="/blogPages/assets/js/96.440f5259.js"><link rel="prefetch" href="/blogPages/assets/js/97.e43387fc.js"><link rel="prefetch" href="/blogPages/assets/js/98.ae9203a0.js"><link rel="prefetch" href="/blogPages/assets/js/99.853784cd.js">
    <link rel="stylesheet" href="/blogPages/assets/css/0.styles.83b5fbe5.css">
  </head>
  <body class="theme-mode-light">
    <div id="app" data-server-rendered="true"><div class="theme-container sidebar-open have-rightmenu"><header class="navbar blur"><div title="目录" class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/blogPages/" class="home-link router-link-active"><!----> <span class="site-name">Jacky's blog</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/blogPages/" class="nav-link">首页</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="前端" class="dropdown-title"><a href="/blogPages/fe/" class="link-title">前端</a> <span class="title" style="display:none;">前端</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>学习笔记</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/blogPages/web/" class="nav-link">web</a></li><li class="dropdown-subitem"><a href="/blogPages/android/" class="nav-link">android</a></li><li class="dropdown-subitem"><a href="/blogPages/iOS/" class="nav-link">iOS</a></li><li class="dropdown-subitem"><a href="/blogPages/vue/" class="nav-link">vue</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="索引" class="dropdown-title"><a href="/blogPages/archives/" class="link-title">索引</a> <span class="title" style="display:none;">索引</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/blogPages/categories/" class="nav-link">分类</a></li><li class="dropdown-item"><!----> <a href="/blogPages/tags/" class="nav-link">标签</a></li><li class="dropdown-item"><!----> <a href="/blogPages/archives/" class="nav-link">归档</a></li></ul></div></div><div class="nav-item"><a href="/blogPages/pages/5a96b7/" class="nav-link">收藏</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="其他" class="dropdown-title"><a href="/blogPages/other/" class="link-title">其他</a> <span class="title" style="display:none;">其他</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/blogPages/tool/" class="nav-link">tool</a></li><li class="dropdown-item"><!----> <a href="/blogPages/algo/" class="nav-link">algo</a></li><li class="dropdown-item"><!----> <a href="/blogPages/python/" class="nav-link">python</a></li><li class="dropdown-item"><!----> <a href="/blogPages/java/" class="nav-link">java</a></li><li class="dropdown-item"><!----> <a href="/blogPages/server/" class="nav-link">server</a></li><li class="dropdown-item"><!----> <a href="/blogPages/growth/" class="nav-link">growth</a></li><li class="dropdown-item"><!----> <a href="/blogPages/pages/0fe5d6/" class="nav-link">frida</a></li><li class="dropdown-item"><!----> <a href="/blogPages/blog/" class="nav-link">blog</a></li><li class="dropdown-item"><!----> <a href="/blogPages/sp/" class="nav-link">SP</a></li><li class="dropdown-item"><!----> <a href="/blogPages/more/" class="nav-link">more</a></li></ul></div></div> <a href="https://github.com/jacky1234" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav></div></header> <div class="sidebar-mask"></div> <div class="sidebar-hover-trigger"></div> <aside class="sidebar" style="display:none;"><div class="blogger"><img src="https://raw.githubusercontent.com/jacky1234/picArchieve/master/uPic/dUmDI0.jpg"> <div class="blogger-info"><h3>Jack Yang</h3> <span>编程; 随笔</span></div></div> <nav class="nav-links"><div class="nav-item"><a href="/blogPages/" class="nav-link">首页</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="前端" class="dropdown-title"><a href="/blogPages/fe/" class="link-title">前端</a> <span class="title" style="display:none;">前端</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>学习笔记</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/blogPages/web/" class="nav-link">web</a></li><li class="dropdown-subitem"><a href="/blogPages/android/" class="nav-link">android</a></li><li class="dropdown-subitem"><a href="/blogPages/iOS/" class="nav-link">iOS</a></li><li class="dropdown-subitem"><a href="/blogPages/vue/" class="nav-link">vue</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="索引" class="dropdown-title"><a href="/blogPages/archives/" class="link-title">索引</a> <span class="title" style="display:none;">索引</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/blogPages/categories/" class="nav-link">分类</a></li><li class="dropdown-item"><!----> <a href="/blogPages/tags/" class="nav-link">标签</a></li><li class="dropdown-item"><!----> <a href="/blogPages/archives/" class="nav-link">归档</a></li></ul></div></div><div class="nav-item"><a href="/blogPages/pages/5a96b7/" class="nav-link">收藏</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="其他" class="dropdown-title"><a href="/blogPages/other/" class="link-title">其他</a> <span class="title" style="display:none;">其他</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/blogPages/tool/" class="nav-link">tool</a></li><li class="dropdown-item"><!----> <a href="/blogPages/algo/" class="nav-link">algo</a></li><li class="dropdown-item"><!----> <a href="/blogPages/python/" class="nav-link">python</a></li><li class="dropdown-item"><!----> <a href="/blogPages/java/" class="nav-link">java</a></li><li class="dropdown-item"><!----> <a href="/blogPages/server/" class="nav-link">server</a></li><li class="dropdown-item"><!----> <a href="/blogPages/growth/" class="nav-link">growth</a></li><li class="dropdown-item"><!----> <a href="/blogPages/pages/0fe5d6/" class="nav-link">frida</a></li><li class="dropdown-item"><!----> <a href="/blogPages/blog/" class="nav-link">blog</a></li><li class="dropdown-item"><!----> <a href="/blogPages/sp/" class="nav-link">SP</a></li><li class="dropdown-item"><!----> <a href="/blogPages/more/" class="nav-link">more</a></li></ul></div></div> <a href="https://github.com/jacky1234" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav>  <ul class="sidebar-links"><li><a href="/blogPages/pages/83ac83/" class="sidebar-link">js api</a></li><li><a href="/blogPages/pages/9c451e/" aria-current="page" class="active sidebar-link">javascript snip</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header level2"><a href="/blogPages/pages/9c451e/#解构的妙用" class="sidebar-link">解构的妙用</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header level3"><a href="/blogPages/pages/9c451e/#精简对象赋值" class="sidebar-link">精简对象赋值</a></li><li class="sidebar-sub-header level3"><a href="/blogPages/pages/9c451e/#只在合法时添加数据" class="sidebar-link">只在合法时添加数据</a></li><li class="sidebar-sub-header level3"><a href="/blogPages/pages/9c451e/#默认值" class="sidebar-link">默认值</a></li><li class="sidebar-sub-header level3"><a href="/blogPages/pages/9c451e/#提取剩余属性" class="sidebar-link">提取剩余属性</a></li></ul></li><li class="sidebar-sub-header level2"><a href="/blogPages/pages/9c451e/#提取url参数-并检查合法性" class="sidebar-link">提取url参数，并检查合法性</a></li><li class="sidebar-sub-header level2"><a href="/blogPages/pages/9c451e/#利用list-filter简化代码" class="sidebar-link">利用list#filter简化代码</a></li><li class="sidebar-sub-header level2"><a href="/blogPages/pages/9c451e/#浅拷贝-深拷贝" class="sidebar-link">浅拷贝/深拷贝</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header level3"><a href="/blogPages/pages/9c451e/#浅拷贝" class="sidebar-link">浅拷贝</a></li><li class="sidebar-sub-header level3"><a href="/blogPages/pages/9c451e/#深拷贝" class="sidebar-link">深拷贝</a></li></ul></li><li class="sidebar-sub-header level2"><a href="/blogPages/pages/9c451e/#复制数组" class="sidebar-link">复制数组</a></li><li class="sidebar-sub-header level2"><a href="/blogPages/pages/9c451e/#loop-with-break" class="sidebar-link">loop with break</a></li><li class="sidebar-sub-header level2"><a href="/blogPages/pages/9c451e/#吸附函数" class="sidebar-link">吸附函数</a></li><li class="sidebar-sub-header level2"><a href="/blogPages/pages/9c451e/#使用泛型和-keyof-约束参数" class="sidebar-link">使用泛型和 keyof 约束参数</a></li><li class="sidebar-sub-header level2"><a href="/blogPages/pages/9c451e/#方法签名解读" class="sidebar-link">方法签名解读</a></li><li class="sidebar-sub-header level2"><a href="/blogPages/pages/9c451e/#对象定义约束" class="sidebar-link">对象定义约束</a></li><li class="sidebar-sub-header level2"><a href="/blogPages/pages/9c451e/#runtime-env" class="sidebar-link">runtime env</a></li><li class="sidebar-sub-header level2"><a href="/blogPages/pages/9c451e/#link" class="sidebar-link">link</a></li></ul></li><li><a href="/blogPages/pages/d8c80d/" class="sidebar-link">web</a></li><li><a href="/blogPages/pages/8627c3/" class="sidebar-link">frontend base</a></li><li><a href="/blogPages/pages/ca1b9e/" class="sidebar-link">web module</a></li><li><a href="/blogPages/pages/eddb73/" class="sidebar-link">css</a></li><li><a href="/blogPages/pages/1bfca5/" class="sidebar-link">css snip</a></li><li><a href="/blogPages/pages/dff091/" class="sidebar-link">web faq</a></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>react</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>vue</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>module</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>more</span> <span class="arrow right"></span></p> <!----></section></li></ul> </aside> <div><main class="page"><div class="theme-vdoing-wrapper "><div class="articleInfo-wrap" data-v-06225672><div class="articleInfo" data-v-06225672><ul class="breadcrumbs" data-v-06225672><li data-v-06225672><a href="/blogPages/" title="首页" class="iconfont icon-home router-link-active" data-v-06225672></a></li> <li data-v-06225672><a href="/blogPages/categories/?category=%E3%80%8Aweb%E3%80%8B" title="分类" data-v-06225672>《web》</a></li></ul> <div class="info" data-v-06225672><div title="作者" class="author iconfont icon-touxiang" data-v-06225672><a href="https://github.com/jacky1234" target="_blank" title="作者" class="beLink" data-v-06225672>Jacky</a></div> <div title="创建时间" class="date iconfont icon-riqi" data-v-06225672><a href="javascript:;" data-v-06225672>2023-08-25</a></div> <!----></div></div></div> <!----> <div class="content-wrapper"><div class="right-menu-wrapper"><div class="right-menu-margin"><div class="right-menu-title">目录</div> <div class="right-menu-content"></div></div></div> <h1><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAeCAYAAAA7MK6iAAAAAXNSR0IArs4c6QAABKFJREFUSA3tVl1oFVcQnrMbrak3QUgkya1akpJYcrUtIqW1JvFBE9LiQ5v6JmJpolbMg32rVrhgoYK0QiMY6i9Y6EMaW5D+xFJaTYItIuK2Kr3+BJNwkxBj05sQY3b3nM6cs2dv9t7NT/vQJw/sndk5M/PNzJkzewGerP+pAmy+ON8lLzUJgA8ZYxYIYZmGYRnctDaWvJJAmTtfP1pvXsBCCPP8QFcCaRkZYACgDZFO4stNIcBCajEOlmmC9XpJ9bAGCaPaPmzPl32dvLSVu3BWCTQs0XQQ6g0DYgwLIoAZbBCdW/i+781o1VVlm/410mw4h06Y7bIPHNyWDyL4FHkX03Q8SrzNhZTZriieckWt7cL6MM85YcLpsi/7O9/iXFT6MswI0DmmpkSaJ0qLxFIm3+i1THHB3zmBH3PYx9CcykcLOeQVVa7QtdxTgQgEleX2AjHYfwA+2ddV77ruGoJUbhGDI09YSNXyMpUt5ylOzxgbUmtOp7NmbNt8v3arjTBfYELmLUV+M+nSawNNAUqpT3ClJWg5I3BLT+cGW/DXNGCa6tx1aakCGEigArTn4TDIPdrXXYKCZNrHLMCOEPvHBlLQ99s9eHB7EB6NTki73CVPQ2F5MSx/uRQixfmq7rK0wYD8w8E905bnPDfwoWs/rfv93NWN/ZfvwsLIU7A09gxECyISeGJkHAau98L97tuw7NXnoPyNF8FcYGLGKsOs0mN3OEyec9esGW/ZEl945dTP34wlR2FZVQWU1q0Cw8Tr7p+hgLLNL0FPxx/Q35mA8aEUrH6nCgwEl0tn7wUiZYJnNRh6DK4UH/k0lfyrsBKdPVv/AriGIQcEDQZ65LBAGe2Rzui9Ybjz7XUppz1/uKBbyVPGkN3ZAeC6hr0x7Nr38N5+EqkoOm17xpoqR9ohQF55ERSvr4Dkr3chNfC3DMzGJlNBElW8w9nsGQvhNGIzDkXzCg8cLK951xHsFBlTJspJNi3ZFIMF2AeDV3q8DNOB+YHi6QTrChDIWDBRi5U5f+ZMfJLu3ccrqxtdxk4SKH336LFxSmkqefwU5T8fhdSdQf9IVKD6aNiwI/hnmcAZ91isYMJIaCUCx9W098+LgruikeTqzqqxKPUwqJyCPJiyemVVZBOijDGjD38Os0jOiSPL1z3SPjXNANbiNPXAdzTfukjjuknNBbyz3nwgTd3AVFqUJ5hpHlq9MveLnWwttUfoygBmvVjuikxND3znrhsELnZk7k+OjIGxeNEkomyLVta0xxn+HZhjBc4YZ/AFjHjz9u3xRZl2BN4aq9nFwWh16IrQ1aHHEd3j1+4/dB9OtH4e29A2H1DyHQRmOSfQZ1Fy7MHBTGB6J/Djq6p3OxyO2cB+4Car7v/o3GXgfAkj23+x9ID1Teoamo/SXcbvSf2PX7Vc8DdCmE1vN9di+32P9/5YR3vLnhCVGUWBjEkr3yh4H8v9CzmsbdhzOKzsJKM90iFdaTMjRPhGVsakRvOaRidljo6H6G7j+ctrJpsP+4COhDIl0La2+FS4+5mlocBaXY5QnGZysIBYoeSsl5qQzrSj/cgNrfuEzlWBfwA+EjrZyWUvpAAAAABJRU5ErkJggg==">javascript snip<!----></h1> <!----> <div class="theme-vdoing-content content__default"><h2 id="解构的妙用"><a href="#解构的妙用" class="header-anchor">#</a> 解构的妙用</h2> <h3 id="精简对象赋值"><a href="#精简对象赋值" class="header-anchor">#</a> 精简对象赋值</h3> <blockquote><p>示例,简写如下代码</p></blockquote> <div class="language-typescript line-numbers-mode"><pre class="language-typescript"><code><span class="token keyword">const</span> model<span class="token operator">:</span> OneClickPublishModel <span class="token operator">=</span> <span class="token punctuation">{</span>
	template_id<span class="token operator">:</span> prompt<span class="token operator">?.</span>ext<span class="token operator">?.</span>template_id<span class="token punctuation">,</span>
	biz_id<span class="token operator">:</span> prompt<span class="token operator">?.</span>ext<span class="token operator">?.</span>biz_id<span class="token punctuation">,</span>
	cell_text<span class="token operator">:</span> prompt<span class="token operator">?.</span>ext<span class="token operator">?.</span>cell_text<span class="token punctuation">,</span>
	friend_avatars<span class="token operator">:</span> prompt<span class="token operator">?.</span>ext<span class="token operator">?.</span>friend_avatars<span class="token punctuation">,</span>
	elements<span class="token operator">:</span> prompt<span class="token operator">?.</span>ext<span class="token operator">?.</span>elements<span class="token punctuation">,</span>
	cell_type<span class="token operator">:</span> prompt<span class="token operator">?.</span>ext<span class="token operator">?.</span>cell_type<span class="token punctuation">,</span>
	ext<span class="token operator">:</span> prompt<span class="token operator">?.</span>ext<span class="token punctuation">,</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><span style="color:green;font-weight:bold;" data-v-35c53164>使用解构精简代码</span> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">const</span> <span class="token literal-property property">model</span><span class="token operator">:</span> OneClickPublishModel <span class="token operator">=</span> <span class="token punctuation">{</span>
	<span class="token operator">...</span><span class="token punctuation">(</span>prompt<span class="token operator">?.</span>ext <span class="token operator">||</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
	<span class="token literal-property property">ext</span><span class="token operator">:</span> prompt<span class="token operator">?.</span>ext<span class="token punctuation">,</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p>这行代码会将 prompt.ext 中定义的属性直接复制到 model 对象中, 前提是 prompt.ext 不为 null 或 undefined。这种方法更加简洁和精炼。</p> <span style="color:green;font-weight:bold;" data-v-35c53164>写法二: </span> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code><span class="token comment">// 使用可选链 `prompt?.ext` 来安全地访问对象属性,如果 prompt?.ext 为 null 或 undefined, 则解构赋值的目标对象将为空对象 {}, 不会引发错误</span>
<span class="token keyword">const</span> <span class="token punctuation">{</span> template_id<span class="token punctuation">,</span> biz_id<span class="token punctuation">,</span> cell_text<span class="token punctuation">,</span> friend_avatars<span class="token punctuation">,</span> elements<span class="token punctuation">,</span> cell_type <span class="token punctuation">}</span> <span class="token operator">=</span> prompt<span class="token operator">?.</span>ext <span class="token operator">||</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>

<span class="token keyword">const</span> <span class="token literal-property property">model</span><span class="token operator">:</span> OneClickPublishModel <span class="token operator">=</span> <span class="token punctuation">{</span>
	template_id<span class="token punctuation">,</span>
	biz_id<span class="token punctuation">,</span>
	cell_text<span class="token punctuation">,</span>
	friend_avatars<span class="token punctuation">,</span>
	elements<span class="token punctuation">,</span>
	cell_type<span class="token punctuation">,</span>
	<span class="token literal-property property">ext</span><span class="token operator">:</span> prompt<span class="token operator">?.</span>ext
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br></div></div><h3 id="只在合法时添加数据"><a href="#只在合法时添加数据" class="header-anchor">#</a> 只在合法时添加数据</h3> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">const</span> <span class="token punctuation">{</span>page_from<span class="token punctuation">,</span> page_sn<span class="token punctuation">,</span> page_id<span class="token punctuation">}</span> <span class="token operator">=</span> data
<span class="token keyword">const</span> commonTrackParams <span class="token operator">=</span> <span class="token punctuation">{</span>
		<span class="token operator">...</span><span class="token punctuation">(</span>page_from <span class="token operator">?</span> <span class="token punctuation">{</span>page_from<span class="token punctuation">}</span> <span class="token operator">:</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
		<span class="token operator">...</span><span class="token punctuation">(</span>page_id <span class="token operator">?</span> <span class="token punctuation">{</span>page_id<span class="token punctuation">}</span> <span class="token operator">:</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
		page_sn<span class="token punctuation">,</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><h3 id="默认值"><a href="#默认值" class="header-anchor">#</a> 默认值</h3> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">const</span> <span class="token punctuation">{</span> type <span class="token operator">=</span> totalHeaderType<span class="token punctuation">.</span>type<span class="token punctuation">,</span> sub_type <span class="token operator">=</span> defaultSubType<span class="token punctuation">.</span>type<span class="token punctuation">,</span> author_uin <span class="token punctuation">}</span> <span class="token operator">=</span> data<span class="token punctuation">;</span>
<span class="token function">setMainData</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    type<span class="token punctuation">,</span>
    sub_type<span class="token punctuation">,</span>
    author_uin<span class="token punctuation">,</span>
    <span class="token literal-property property">launch</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
    <span class="token operator">...</span>data<span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><h3 id="提取剩余属性"><a href="#提取剩余属性" class="header-anchor">#</a> 提取剩余属性</h3> <blockquote><p>要在不修改原对象的情况下删除 getMainData() 返回对象中的 firstPageData 属性，你可以使用对象的解构和扩展运算符来创建一个新的对象，然后在这个新对象中删除该属性。下面是具体实现:</p></blockquote> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code><span class="token comment">// 调用 getMainData() 并将返回的对象存储在 mainData 变量中。</span>
<span class="token keyword">const</span> mainData <span class="token operator">=</span> <span class="token function">getMainData</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// 使用对象解构语法，将 firstPageData 属性提取出来，同时使用 `...rest` 收集剩余的属性。这样 rest 对象将包含 mainData 中除 firstPageData 之外的所有属性。</span>
<span class="token keyword">const</span> <span class="token punctuation">{</span> firstPageData<span class="token punctuation">,</span> <span class="token operator">...</span>rest <span class="token punctuation">}</span> <span class="token operator">=</span> mainData<span class="token punctuation">;</span>

<span class="token comment">// 将 rest 对象中的属性扩展到新的对象中</span>
<span class="token function">showPopup</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    <span class="token operator">...</span>rest<span class="token punctuation">,</span>  <span class="token comment">// 扩展剩余的属性</span>
    <span class="token literal-property property">type</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
    <span class="token literal-property property">sub_type</span><span class="token operator">:</span> <span class="token number">2</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br></div></div><span style="color:green;font-weight:bold;" data-v-35c53164>优点</span> <ul><li>不修改原对象: mainData 对象保持不变。</li> <li>删除特定属性: 通过对象解构，方便地删除了特定属性。</li> <li>灵活性: 你可以在删除属性的同时添加或修改其他属性。</li></ul> <p>通过这种方式，你可以安全地删除不需要的属性，同时保证原始数据不被修改。</p> <h2 id="提取url参数-并检查合法性"><a href="#提取url参数-并检查合法性" class="header-anchor">#</a> 提取url参数，并检查合法性</h2> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">function</span> <span class="token function">extractLinkParam</span><span class="token punctuation">(</span><span class="token parameter"><span class="token literal-property property">params</span><span class="token operator">:</span> URLSearchParams</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token punctuation">{</span>
	author_uin<span class="token operator">?</span><span class="token operator">:</span> string<span class="token punctuation">;</span>
	rank_type<span class="token operator">?</span><span class="token operator">:</span> number<span class="token punctuation">;</span>
	rank_sub_type<span class="token operator">?</span><span class="token operator">:</span> number<span class="token punctuation">;</span>
<span class="token punctuation">}</span> <span class="token punctuation">{</span>
	<span class="token keyword">const</span> <span class="token literal-property property">result</span><span class="token operator">:</span> <span class="token punctuation">{</span>
		author_uin<span class="token operator">?</span><span class="token operator">:</span> string<span class="token punctuation">;</span>
		rank_type<span class="token operator">?</span><span class="token operator">:</span> number<span class="token punctuation">;</span>
		rank_sub_type<span class="token operator">?</span><span class="token operator">:</span> number<span class="token punctuation">;</span>
	<span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span>

	<span class="token keyword">const</span> author_uin <span class="token operator">=</span> params<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">'author_uin'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token keyword">const</span> rank_type_str <span class="token operator">=</span> params<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">'rank_type'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token keyword">const</span> rank_sub_type_str <span class="token operator">=</span> params<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">'rank_sub_type'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

	<span class="token keyword">if</span> <span class="token punctuation">(</span>author_uin<span class="token punctuation">)</span> <span class="token punctuation">{</span>
		result<span class="token punctuation">.</span>author_uin <span class="token operator">=</span> author_uin<span class="token punctuation">;</span>
	<span class="token punctuation">}</span>

	<span class="token keyword">if</span> <span class="token punctuation">(</span>rank_type_str <span class="token operator">!==</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token keyword">const</span> rank_type <span class="token operator">=</span> <span class="token function">Number</span><span class="token punctuation">(</span>rank_type_str<span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span><span class="token function">isNaN</span><span class="token punctuation">(</span>rank_type<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
			result<span class="token punctuation">.</span>rank_type <span class="token operator">=</span> rank_type<span class="token punctuation">;</span>
		<span class="token punctuation">}</span>
	<span class="token punctuation">}</span>

	<span class="token keyword">if</span> <span class="token punctuation">(</span>rank_sub_type_str <span class="token operator">!==</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token keyword">const</span> rank_sub_type <span class="token operator">=</span> <span class="token function">Number</span><span class="token punctuation">(</span>rank_sub_type_str<span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span><span class="token function">isNaN</span><span class="token punctuation">(</span>rank_sub_type<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
			result<span class="token punctuation">.</span>rank_sub_type <span class="token operator">=</span> rank_sub_type<span class="token punctuation">;</span>
		<span class="token punctuation">}</span>
	<span class="token punctuation">}</span>

	<span class="token keyword">return</span> result<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br></div></div><h2 id="利用list-filter简化代码"><a href="#利用list-filter简化代码" class="header-anchor">#</a> 利用list#filter简化代码</h2> <div class="language-ts line-numbers-mode"><pre class="language-ts"><code><span class="token comment">// from: 原</span>
<span class="token keyword">const</span> missedParam<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> checkedNewListArray<span class="token punctuation">.</span>length<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>body<span class="token punctuation">[</span>checkedNewListArray<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
				missedParam<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>checkedNewListArray<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span>
		<span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token comment">// to: !body[param] 已经包含了 undefined、null、false、0 和 '' 等“假值”检查</span>
<span class="token keyword">const</span> missedParam <span class="token operator">=</span> checkedNewListArray<span class="token punctuation">.</span><span class="token function">filter</span><span class="token punctuation">(</span>param <span class="token operator">=&gt;</span> <span class="token operator">!</span>body<span class="token punctuation">[</span>param<span class="token punctuation">]</span><span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><h2 id="浅拷贝-深拷贝"><a href="#浅拷贝-深拷贝" class="header-anchor">#</a> 浅拷贝/深拷贝</h2> <p>在 JavaScript 中, 浅拷贝和深拷贝是两种不同的对象复制方式, 它们的区别在于复制的深度和是否复制引用。以下是它们的区别和示例:</p> <h3 id="浅拷贝"><a href="#浅拷贝" class="header-anchor">#</a> 浅拷贝</h3> <blockquote><p>浅拷贝(Shallow Copy)只复制对象的一层属性, 如果属性值是基本类型(如数字、字符串、布尔值), 则直接复制该值；如果属性值是对象或数组, 则复制的是引用, 即新对象和原对象的这些属性仍然指向同一片内存区域。</p></blockquote> <p>常见的浅拷贝方式包括 <code>Object.assign()</code> 和展开运算符 <code>...</code>。</p> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">let</span> obj1 <span class="token operator">=</span> <span class="token punctuation">{</span> <span class="token literal-property property">a</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token literal-property property">b</span><span class="token operator">:</span> <span class="token punctuation">{</span> <span class="token literal-property property">c</span><span class="token operator">:</span> <span class="token number">2</span> <span class="token punctuation">}</span> <span class="token punctuation">}</span>
<span class="token keyword">let</span> obj2 <span class="token operator">=</span> Object<span class="token punctuation">.</span><span class="token function">assign</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span> obj1<span class="token punctuation">)</span> <span class="token comment">// 浅拷贝</span>
obj2<span class="token punctuation">.</span>b<span class="token punctuation">.</span>c <span class="token operator">=</span> <span class="token number">3</span> <span class="token comment">// 修改 obj2 的属性也会影响到 obj1</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>obj1<span class="token punctuation">)</span> <span class="token comment">// { a: 1, b: { c: 3 } }</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>obj2<span class="token punctuation">)</span> <span class="token comment">// { a: 1, b: { c: 3 } }</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><h3 id="深拷贝"><a href="#深拷贝" class="header-anchor">#</a> 深拷贝</h3> <ul><li>深拷贝(Deep Copy), 包括基本类型和引用类型, 完全创建一个新的对象, 新对象和原对象的所有属性和嵌套属性都相互独立, 互不影响。</li> <li>实现深拷贝的方式有很多, 可以使用递归遍历对象的所有属性, 并创建新的对象来实现。</li></ul> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token function">deepCopy</span><span class="token punctuation">(</span><span class="token parameter">obj</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	<span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">typeof</span> obj <span class="token operator">!==</span> <span class="token string">'object'</span> <span class="token operator">||</span> obj <span class="token operator">===</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token keyword">return</span> obj <span class="token comment">// 如果是基本类型或null, 直接返回</span>
	<span class="token punctuation">}</span>
	<span class="token keyword">let</span> newObj <span class="token operator">=</span> Array<span class="token punctuation">.</span><span class="token function">isArray</span><span class="token punctuation">(</span>obj<span class="token punctuation">)</span> <span class="token operator">?</span> <span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token operator">:</span> <span class="token punctuation">{</span><span class="token punctuation">}</span> <span class="token comment">// 根据类型创建新对象或数组</span>
	<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> key <span class="token keyword">in</span> obj<span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token keyword">if</span> <span class="token punctuation">(</span>obj<span class="token punctuation">.</span><span class="token function">hasOwnProperty</span><span class="token punctuation">(</span>key<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
			newObj<span class="token punctuation">[</span>key<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">deepCopy</span><span class="token punctuation">(</span>obj<span class="token punctuation">[</span>key<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token comment">// 递归复制嵌套属性</span>
		<span class="token punctuation">}</span>
	<span class="token punctuation">}</span>
	<span class="token keyword">return</span> newObj
<span class="token punctuation">}</span>

<span class="token keyword">let</span> obj3 <span class="token operator">=</span> <span class="token punctuation">{</span> <span class="token literal-property property">a</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token literal-property property">b</span><span class="token operator">:</span> <span class="token punctuation">{</span> <span class="token literal-property property">c</span><span class="token operator">:</span> <span class="token number">2</span> <span class="token punctuation">}</span> <span class="token punctuation">}</span>
<span class="token keyword">let</span> obj4 <span class="token operator">=</span> <span class="token function">deepCopy</span><span class="token punctuation">(</span>obj3<span class="token punctuation">)</span> <span class="token comment">// 深拷贝</span>
obj4<span class="token punctuation">.</span>b<span class="token punctuation">.</span>c <span class="token operator">=</span> <span class="token number">3</span> <span class="token comment">// 修改obj4的属性不影响obj3</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>obj3<span class="token punctuation">)</span> <span class="token comment">// { a: 1, b: { c: 2 } }</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>obj4<span class="token punctuation">)</span> <span class="token comment">// { a: 1, b: { c: 3 } }</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br></div></div><p>需要注意的是, 深拷贝可能会涉及到循环引用等复杂情况, 因此实现一个完全通用且高效的深拷贝函数并不容易。在实际开发中, 可以根据项目的需求选择合适的拷贝方式。</p> <h2 id="复制数组"><a href="#复制数组" class="header-anchor">#</a> 复制数组</h2> <blockquote><p>使用解构遇到的坑</p></blockquote> <div class="language-ts line-numbers-mode"><pre class="language-ts"><code><span class="token comment">// 方法一: Using Object.assign() with an empty array as the target is another valid way to copy an array, including all its elements, without modifying the original array's structure.</span>
<span class="token keyword">const</span> devNav <span class="token operator">=</span> Object<span class="token punctuation">.</span><span class="token function">assign</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span> commonNav<span class="token punctuation">)</span>

<span class="token comment">// 方法二, 结构, 注意这里使用的是 [], 不能使用 {}</span>
<span class="token keyword">const</span> devNav <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token operator">...</span>commonNav<span class="token punctuation">]</span>

<span class="token comment">// 方法三</span>
<span class="token keyword">const</span> devNav <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token builtin">Array</span><span class="token punctuation">.</span><span class="token function">from</span><span class="token punctuation">(</span>commonNav<span class="token punctuation">)</span><span class="token punctuation">]</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><h2 id="loop-with-break"><a href="#loop-with-break" class="header-anchor">#</a> loop with break</h2> <blockquote><p>提前中断</p></blockquote> <div class="language-typescript line-numbers-mode"><pre class="language-typescript"><code><span class="token keyword">let</span> a <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">]</span>

<span class="token comment">// 方式一</span>
<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> a<span class="token punctuation">.</span>length<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	<span class="token keyword">let</span> item <span class="token operator">=</span> a<span class="token punctuation">[</span>i<span class="token punctuation">]</span>
	<span class="token keyword">if</span> <span class="token punctuation">(</span>item <span class="token operator">===</span> <span class="token number">2</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token keyword">break</span>
	<span class="token punctuation">}</span>
	<span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>item<span class="token punctuation">)</span>
<span class="token punctuation">}</span>

<span class="token comment">// 方式二</span>
<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">const</span> item <span class="token keyword">of</span> a<span class="token punctuation">)</span> <span class="token punctuation">{</span>
	<span class="token keyword">if</span> <span class="token punctuation">(</span>item <span class="token operator">===</span> <span class="token number">2</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token keyword">break</span> <span class="token comment">// 遇到值为2时中断循环</span>
	<span class="token punctuation">}</span>
	<span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>item<span class="token punctuation">)</span>
<span class="token punctuation">}</span>

<span class="token comment">// 方式三</span>
<span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>a<span class="token punctuation">.</span><span class="token function">find</span><span class="token punctuation">(</span>item <span class="token operator">=&gt;</span> item <span class="token operator">===</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br></div></div><h2 id="吸附函数"><a href="#吸附函数" class="header-anchor">#</a> 吸附函数</h2> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">function</span> <span class="token function">calibrateValue</span><span class="token punctuation">(</span><span class="token parameter"><span class="token literal-property property">value</span><span class="token operator">:</span> number<span class="token punctuation">,</span> <span class="token literal-property property">low</span><span class="token operator">:</span> number<span class="token punctuation">,</span> <span class="token literal-property property">high</span><span class="token operator">:</span> number<span class="token punctuation">,</span> <span class="token literal-property property">delta</span><span class="token operator">:</span> number</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>value <span class="token operator">&gt;</span> high <span class="token operator">||</span> Math<span class="token punctuation">.</span><span class="token function">abs</span><span class="token punctuation">(</span>value <span class="token operator">-</span> high<span class="token punctuation">)</span> <span class="token operator">&lt;</span> delta<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> high
    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>value <span class="token operator">&lt;</span> low <span class="token operator">||</span> Math<span class="token punctuation">.</span><span class="token function">abs</span><span class="token punctuation">(</span>value <span class="token operator">-</span> low<span class="token punctuation">)</span> <span class="token operator">&lt;</span> delta<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> low
    <span class="token punctuation">}</span>
    <span class="token keyword">return</span> value
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><h2 id="使用泛型和-keyof-约束参数"><a href="#使用泛型和-keyof-约束参数" class="header-anchor">#</a> 使用泛型和 keyof 约束参数</h2> <div class="language-ts line-numbers-mode"><pre class="language-ts"><code><span class="token keyword">const</span> user <span class="token operator">=</span> <span class="token punctuation">{</span>
	name<span class="token operator">:</span> <span class="token string">'jack'</span><span class="token punctuation">,</span>
	age<span class="token operator">:</span> <span class="token number">10</span><span class="token punctuation">,</span>
	location<span class="token operator">:</span> <span class="token string">'hz'</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span>

<span class="token keyword">function</span> <span class="token generic-function"><span class="token function">handler</span><span class="token generic class-name"><span class="token operator">&lt;</span><span class="token constant">T</span><span class="token operator">&gt;</span></span></span><span class="token punctuation">(</span>obj<span class="token operator">:</span> <span class="token constant">T</span><span class="token punctuation">,</span> propName<span class="token operator">:</span> <span class="token keyword">keyof</span> <span class="token constant">T</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>

<span class="token comment">// invoke</span>
<span class="token function">handler</span><span class="token punctuation">(</span>user<span class="token punctuation">,</span> <span class="token string">'age'</span><span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><span style="color:green;font-weight:bold;" data-v-35c53164>keyof 的说明</span> <p>在 TypeScript 中, keyof 是一个索引类型查询操作符(Index type query operator), 用于获取指定类型 T 的所有属性名的联合类型。具体来说, keyof T 表达式会返回类型 T 的所有可用属性的字符串字面量类型的联合。</p> <p>在你提供的代码中, <code>keyof T</code> 用于作为函数 handler 的参数 propName 的类型。让我来解释一下它的作用:</p> <ul><li>定义函数参数类型: 函数 handler 接受两个参数, obj 和 propName。obj 是一个泛型类型 T 的对象, 而 propName 则是 T 的属性名。由于 TypeScript 具有结构类型系统, 因此可以对任意类型的对象调用该函数, 只要该对象具有与泛型类型 T 相匹配的属性。</li> <li>使用 keyof 运算符: <code>keyof T</code> 运算符用于确定类型 T 的所有属性名。在你的代码中, keyof T 表达式确定了参数 propName 的类型, 这意味着 propName 必须是类型 T 的某个属性名。
例如, 假设你调用了函数 <code>handler(user, 'name')</code>, 其中 user 是一个拥有 name、age 和 location 属性的对象。在这种情况下, propName 的类型将是 <code>'name' | 'age' | 'location'</code>, 因为这是对象 user 的所有属性名的联合类型。</li></ul> <p>总之, <span style="color:orange;font-weight:bold;" data-v-35c53164>keyof 运算符的作用是在编译时获取类型 T 的所有属性名, 并将它们作为字符串字面量类型的联合类型返回, 用于在类型系统中进行类型推断和静态类型检查。</span></p> <h2 id="方法签名解读"><a href="#方法签名解读" class="header-anchor">#</a> 方法签名解读</h2> <div class="language-ts line-numbers-mode"><pre class="language-ts"><code><span class="token keyword">function</span> <span class="token function">RSSItem</span><span class="token punctuation">(</span><span class="token punctuation">{</span> item<span class="token punctuation">,</span> type<span class="token punctuation">,</span> hidePreview <span class="token punctuation">}</span><span class="token operator">:</span> <span class="token punctuation">{</span> item<span class="token operator">:</span> RSSData<span class="token punctuation">;</span> type<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span> hidePreview<span class="token operator">?</span><span class="token operator">:</span> <span class="token builtin">boolean</span> <span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	<span class="token comment">//...</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>这段代码定义了一个名为 RSSItem 的函数, 它接受一个参数对象, 并<span style="color:green;font-weight:bold;" data-v-35c53164>解构该对象以获取 item、type 和 hidePreview 属性</span>。让我来解释一下这个方法签名的各个部分:</p> <ul><li>函数名: RSSItem, 这是函数的名称。</li> <li>冒号前面的部分是参数的解构赋值，而冒号后面的部分是参数的类型。
<ul><li>参数解构赋值部分:<code>{ item, type, hidePreview }</code></li> <li>参数类型定义部分:<code>{ item: RSSData; type: string; hidePreview?: boolean }</code></li></ul></li> <li>参数列表: 参数列表包含了一个对象, 用于传递函数的参数。该对象使用对象解构语法, 其中包含了三个属性:
<ul><li><code>item: RSSData</code>: 表示函数的第一个参数 item, 它的类型为 RSSData, 这是一个自定义的类型(假设为 RSSData 类型)。</li> <li><code>type: string</code>: 表示函数的第二个参数 type, 它的类型为 string。</li> <li><code>hidePreview?: boolean</code>: 表示函数的第三个参数 hidePreview, 它的类型为 boolean, 并且是可选的, 即调用函数时可以不传递该参数。</li></ul></li> <li>参数对象类型: 整个参数对象的类型被定义为一个对象类型。该对象类型指定了函数参数的结构, 并使用对象解构语法指定了每个参数的名称和类型。在这个例子中, 参数对象的结构与函数的参数列表一致, 但它们是独立的定义。</li></ul> <p>综合起来, 这个方法签名表明了一个名为 RSSItem 的函数, 该函数接受三个参数: item、type 和 hidePreview。其中 item 是必需的, 且类型为 RSSData, type 是必需的, 且类型为 string, 而 hidePreview 是可选的, 且类型为 boolean。</p> <hr> <p>同样，这里在提供一个例子</p> <div class="language-ts line-numbers-mode"><pre class="language-ts"><code><span class="token keyword">export</span> <span class="token keyword">function</span> <span class="token function">HotListItemComponentV2</span><span class="token punctuation">(</span>props<span class="token operator">:</span> <span class="token punctuation">{</span> topic_id<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">;</span> jump_url<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span> index<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">;</span> cover_url<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span> title<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span> is_finished<span class="token operator">:</span> <span class="token builtin">boolean</span><span class="token punctuation">;</span> vv_tips<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span> feeds_count<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">;</span> labels<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token operator">|</span> <span class="token keyword">undefined</span> <span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	<span class="token comment">// 函数体...</span>
<span class="token punctuation">}</span>

<span class="token comment">// 转成</span>
<span class="token keyword">export</span> <span class="token keyword">function</span> <span class="token function">HotListItemComponentV2</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
	topic_id<span class="token punctuation">,</span>
	jump_url<span class="token punctuation">,</span>
	index<span class="token punctuation">,</span>
	cover_url<span class="token punctuation">,</span>
	title<span class="token punctuation">,</span>
	is_finished<span class="token punctuation">,</span>
	vv_tips<span class="token punctuation">,</span>
	feeds_count<span class="token punctuation">,</span>
	labels<span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token operator">:</span> <span class="token punctuation">{</span>
	topic_id<span class="token operator">:</span> <span class="token builtin">number</span>
	jump_url<span class="token operator">:</span> <span class="token builtin">string</span>
	index<span class="token operator">:</span> <span class="token builtin">number</span>
	cover_url<span class="token operator">:</span> <span class="token builtin">string</span>
	title<span class="token operator">:</span> <span class="token builtin">string</span>
	is_finished<span class="token operator">:</span> <span class="token builtin">boolean</span>
	vv_tips<span class="token operator">:</span> <span class="token builtin">string</span>
	feeds_count<span class="token operator">:</span> <span class="token builtin">number</span>
	labels<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token operator">|</span> <span class="token keyword">undefined</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	<span class="token comment">// 函数体...</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br></div></div><h2 id="对象定义约束"><a href="#对象定义约束" class="header-anchor">#</a> 对象定义约束</h2> <div class="language-ts line-numbers-mode"><pre class="language-ts"><code><span class="token keyword">const</span> savedRSS<span class="token operator">:</span> <span class="token punctuation">{</span>
	<span class="token punctuation">[</span>tabId<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">]</span><span class="token operator">:</span> <span class="token punctuation">{</span>
		pageRSSHub<span class="token operator">:</span> RSSData<span class="token punctuation">[</span><span class="token punctuation">]</span>
		websiteRSSHub<span class="token operator">:</span> RSSData<span class="token punctuation">[</span><span class="token punctuation">]</span>
		pageRSS<span class="token operator">:</span> RSSData<span class="token punctuation">[</span><span class="token punctuation">]</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><p>这段代码定义了一个名为 savedRSS 的变量, 它是一个对象, 该对象的键为数字类型的 tabId, 值为包含三个数组的对象。</p> <p>具体来说, 这个对象的结构如下:</p> <ul><li>键类型为 number, 代表标签页的 ID。</li> <li>值是一个包含三个数组的对象, 分别命名为 pageRSSHub、websiteRSSHub 和 pageRSS, 它们的类型为 RSSData[], 表示存储了一组 RSS 数据的数组。</li></ul> <p>这段代码的约束和限制主要体现在以下几点:</p> <ol><li>键的类型约束: 键必须是数字类型, 代表标签页的 ID。</li> <li>值的结构约束: 值是一个对象, 必须包含 pageRSSHub、websiteRSSHub 和 pageRSS 三个属性, 分别存储了对应标签页的三类 RSS 数据。</li> <li>数组的类型约束: pageRSSHub、websiteRSSHub 和 pageRSS 属性的值都必须是数组, 且数组中的元素类型为 RSSData。</li></ol> <h2 id="runtime-env"><a href="#runtime-env" class="header-anchor">#</a> runtime env</h2> <div class="language-ts line-numbers-mode"><pre class="language-ts"><code>process<span class="token punctuation">.</span>env<span class="token punctuation">.</span><span class="token operator">&lt;</span>cst<span class="token operator">&gt;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h2 id="link"><a href="#link" class="header-anchor">#</a> link</h2> <ul><li><a href="https://github.com/jacky1234/learnWeb/tree/main/projects/webs/src/js" target="_blank" rel="noopener noreferrer">webs-src<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></div></div> <!----> <div class="page-edit"><!----> <div class="tags"><a href="/blogPages/tags/?tag=snip" title="标签">#snip</a></div> <div class="last-updated"><span class="prefix">上次更新:</span> <span class="time">2024/10/10, 22:32:51</span></div></div> <div class="page-nav-wapper"><div class="page-nav-centre-wrap"><a href="/blogPages/pages/83ac83/" class="page-nav-centre page-nav-centre-prev"><div class="tooltip">js api</div></a> <a href="/blogPages/pages/d8c80d/" class="page-nav-centre page-nav-centre-next"><div class="tooltip">web</div></a></div> <div class="page-nav"><p class="inner"><span class="prev">
        ←
        <a href="/blogPages/pages/83ac83/" class="prev">js api</a></span> <span class="next"><a href="/blogPages/pages/d8c80d/">web</a>→
      </span></p></div></div></div> <div class="article-list"><div class="article-title"><a href="/blogPages/archives/" class="iconfont icon-bi">最近更新</a></div> <div class="article-wrapper"><dl><dd>01</dd> <dt><a href="/blogPages/pages/9729d0/"><div>
            mac
            <!----></div></a> <span class="date">10-24</span></dt></dl><dl><dd>02</dd> <dt><a href="/blogPages/pages/ae37cb/"><div>
            xargs
            <!----></div></a> <span class="date">10-24</span></dt></dl><dl><dd>03</dd> <dt><a href="/blogPages/pages/f3e095/"><div>
            brew
            <!----></div></a> <span class="date">10-18</span></dt></dl> <dl><dd></dd> <dt><a href="/blogPages/archives/" class="more">更多文章&gt;</a></dt></dl></div></div></main></div> <div class="footer"><div class="icons"><a href="mailto:jackdoson2011@gmail.com" title="发邮件" target="_blank" class="iconfont icon-youjian"></a><a href="https://github.com/jacky1234" title="Github" target="_blank" class="iconfont icon-github"></a><a href="https://music.163.com/#/my/m/music/playlist?id=317363436" title="听音乐" target="_blank" class="iconfont icon-erji"></a></div> 
  Theme by
  <a href="https://github.com/xugaoyi/vuepress-theme-vdoing" target="_blank" title="本站主题">Vdoing</a> 
    | Copyright © 2019-2024
    <span>Jacky | <a href="https://github.com/xugaoyi/vuepress-theme-vdoing/blob/master/LICENSE" target="_blank">MIT License</a></span></div> <div class="buttons"><div title="返回顶部" class="button blur go-to-top iconfont icon-fanhuidingbu" style="display:none;"></div> <div title="去评论" class="button blur go-to-comment iconfont icon-pinglun" style="display:none;"></div> <div title="主题模式" class="button blur theme-mode-but iconfont icon-zhuti"><ul class="select-box" style="display:none;"><li class="iconfont icon-zidong">
          跟随系统
        </li><li class="iconfont icon-rijianmoshi">
          浅色模式
        </li><li class="iconfont icon-yejianmoshi">
          深色模式
        </li><li class="iconfont icon-yuedu">
          阅读模式
        </li></ul></div></div> <!----> <!----> <!----></div><div class="global-ui"><!----></div></div>
    <script src="/blogPages/assets/js/app.7e06e929.js" defer></script><script src="/blogPages/assets/js/2.ce95ee6e.js" defer></script><script src="/blogPages/assets/js/251.cd3b8b6c.js" defer></script><script src="/blogPages/assets/js/6.69b19f48.js" defer></script>
  </body>
</html>
