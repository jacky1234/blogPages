<!DOCTYPE html>
<html lang="zh-CN">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>mysql base | Jacky&#39;s blog</title>
    <meta name="generator" content="VuePress 1.9.9">
    
    <meta name="description" content="勤学如春起之苗, 不见其增, 日有所长；辍学如磨刀之石, 不见其损, 日有所亏。">
    <meta name="theme-color" content="#3eaf7c">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    
    <link rel="preload" href="/blogPages/assets/css/0.styles.83b5fbe5.css" as="style"><link rel="preload" href="/blogPages/assets/js/app.7e06e929.js" as="script"><link rel="preload" href="/blogPages/assets/js/2.ce95ee6e.js" as="script"><link rel="preload" href="/blogPages/assets/js/231.c7b11961.js" as="script"><link rel="preload" href="/blogPages/assets/js/6.69b19f48.js" as="script"><link rel="prefetch" href="/blogPages/assets/js/10.effd2b33.js"><link rel="prefetch" href="/blogPages/assets/js/100.856fcc53.js"><link rel="prefetch" href="/blogPages/assets/js/101.2fe04807.js"><link rel="prefetch" href="/blogPages/assets/js/102.a570fe0b.js"><link rel="prefetch" href="/blogPages/assets/js/103.00546020.js"><link rel="prefetch" href="/blogPages/assets/js/104.d78b38da.js"><link rel="prefetch" href="/blogPages/assets/js/105.8feb4296.js"><link rel="prefetch" href="/blogPages/assets/js/106.e16f62e7.js"><link rel="prefetch" href="/blogPages/assets/js/107.1750545e.js"><link rel="prefetch" href="/blogPages/assets/js/108.cb3ca371.js"><link rel="prefetch" href="/blogPages/assets/js/109.e6ef1c19.js"><link rel="prefetch" href="/blogPages/assets/js/11.713c286e.js"><link rel="prefetch" href="/blogPages/assets/js/110.38b88640.js"><link rel="prefetch" href="/blogPages/assets/js/111.546521ea.js"><link rel="prefetch" href="/blogPages/assets/js/112.6b0ef40e.js"><link rel="prefetch" href="/blogPages/assets/js/113.8b689694.js"><link rel="prefetch" href="/blogPages/assets/js/114.efb0d75d.js"><link rel="prefetch" href="/blogPages/assets/js/115.b3450440.js"><link rel="prefetch" href="/blogPages/assets/js/116.59a8a82a.js"><link rel="prefetch" href="/blogPages/assets/js/117.a9e3d4c3.js"><link rel="prefetch" href="/blogPages/assets/js/118.1958ce33.js"><link rel="prefetch" href="/blogPages/assets/js/119.405c1672.js"><link rel="prefetch" href="/blogPages/assets/js/12.2815f35b.js"><link rel="prefetch" href="/blogPages/assets/js/120.e2740dd1.js"><link rel="prefetch" href="/blogPages/assets/js/121.0aa78c4e.js"><link rel="prefetch" href="/blogPages/assets/js/122.7fe22975.js"><link rel="prefetch" href="/blogPages/assets/js/123.7e9ba265.js"><link rel="prefetch" href="/blogPages/assets/js/124.de810087.js"><link rel="prefetch" href="/blogPages/assets/js/125.de7aba6e.js"><link rel="prefetch" href="/blogPages/assets/js/126.b8d307f4.js"><link rel="prefetch" href="/blogPages/assets/js/127.b944c6bd.js"><link rel="prefetch" href="/blogPages/assets/js/128.d9fbd218.js"><link rel="prefetch" href="/blogPages/assets/js/129.9f32686a.js"><link rel="prefetch" href="/blogPages/assets/js/13.d27b9fe5.js"><link rel="prefetch" href="/blogPages/assets/js/130.4234001e.js"><link rel="prefetch" href="/blogPages/assets/js/131.5fbc5fd4.js"><link rel="prefetch" href="/blogPages/assets/js/132.6e85e726.js"><link rel="prefetch" href="/blogPages/assets/js/133.1b9b2012.js"><link rel="prefetch" href="/blogPages/assets/js/134.ddd33937.js"><link rel="prefetch" href="/blogPages/assets/js/135.cb7a50a2.js"><link rel="prefetch" href="/blogPages/assets/js/136.db91a988.js"><link rel="prefetch" href="/blogPages/assets/js/137.f31a522d.js"><link rel="prefetch" href="/blogPages/assets/js/138.367e06be.js"><link rel="prefetch" href="/blogPages/assets/js/139.769ea4af.js"><link rel="prefetch" href="/blogPages/assets/js/14.fdde4a68.js"><link rel="prefetch" href="/blogPages/assets/js/140.2ee3edb4.js"><link rel="prefetch" href="/blogPages/assets/js/141.1244633c.js"><link rel="prefetch" href="/blogPages/assets/js/142.66c748b7.js"><link rel="prefetch" href="/blogPages/assets/js/143.24875298.js"><link rel="prefetch" href="/blogPages/assets/js/144.9812ea81.js"><link rel="prefetch" href="/blogPages/assets/js/145.acd0069a.js"><link rel="prefetch" href="/blogPages/assets/js/146.39ce1178.js"><link rel="prefetch" href="/blogPages/assets/js/147.8272cac5.js"><link rel="prefetch" href="/blogPages/assets/js/148.b96b2996.js"><link rel="prefetch" href="/blogPages/assets/js/149.d150cff8.js"><link rel="prefetch" href="/blogPages/assets/js/15.222f035d.js"><link rel="prefetch" href="/blogPages/assets/js/150.50288e9f.js"><link rel="prefetch" href="/blogPages/assets/js/151.0eb10e98.js"><link rel="prefetch" href="/blogPages/assets/js/152.b01dd6dc.js"><link rel="prefetch" href="/blogPages/assets/js/153.5bbdea0d.js"><link rel="prefetch" href="/blogPages/assets/js/154.c2893844.js"><link rel="prefetch" href="/blogPages/assets/js/155.b4853cfe.js"><link rel="prefetch" href="/blogPages/assets/js/156.3a320751.js"><link rel="prefetch" href="/blogPages/assets/js/157.2a6c017a.js"><link rel="prefetch" href="/blogPages/assets/js/158.a526bc4b.js"><link rel="prefetch" href="/blogPages/assets/js/159.0fa12b9e.js"><link rel="prefetch" href="/blogPages/assets/js/16.32123a80.js"><link rel="prefetch" href="/blogPages/assets/js/160.794a2fab.js"><link rel="prefetch" href="/blogPages/assets/js/161.37ca7986.js"><link rel="prefetch" href="/blogPages/assets/js/162.f326722e.js"><link rel="prefetch" href="/blogPages/assets/js/163.713a7700.js"><link rel="prefetch" href="/blogPages/assets/js/164.bf9a07e3.js"><link rel="prefetch" href="/blogPages/assets/js/165.7daed5e5.js"><link rel="prefetch" href="/blogPages/assets/js/166.d60901fe.js"><link rel="prefetch" href="/blogPages/assets/js/167.1db96ae6.js"><link rel="prefetch" href="/blogPages/assets/js/168.06a6de79.js"><link rel="prefetch" href="/blogPages/assets/js/169.b28e42a7.js"><link rel="prefetch" href="/blogPages/assets/js/17.80f38037.js"><link rel="prefetch" href="/blogPages/assets/js/170.5e2b19ac.js"><link rel="prefetch" href="/blogPages/assets/js/171.90db8586.js"><link rel="prefetch" href="/blogPages/assets/js/172.cc24f14b.js"><link rel="prefetch" href="/blogPages/assets/js/173.fe9a6f35.js"><link rel="prefetch" href="/blogPages/assets/js/174.374b8ab4.js"><link rel="prefetch" href="/blogPages/assets/js/175.096a945e.js"><link rel="prefetch" href="/blogPages/assets/js/176.284db50d.js"><link rel="prefetch" href="/blogPages/assets/js/177.6e9e60bf.js"><link rel="prefetch" href="/blogPages/assets/js/178.48bedc23.js"><link rel="prefetch" href="/blogPages/assets/js/179.c2841c5f.js"><link rel="prefetch" href="/blogPages/assets/js/18.a934f28e.js"><link rel="prefetch" href="/blogPages/assets/js/180.832ec21f.js"><link rel="prefetch" href="/blogPages/assets/js/181.edf08aa8.js"><link rel="prefetch" href="/blogPages/assets/js/182.24f1be2e.js"><link rel="prefetch" href="/blogPages/assets/js/183.52a67e98.js"><link rel="prefetch" href="/blogPages/assets/js/184.c5b66db2.js"><link rel="prefetch" href="/blogPages/assets/js/185.1530ae0c.js"><link rel="prefetch" href="/blogPages/assets/js/186.fff99cfa.js"><link rel="prefetch" href="/blogPages/assets/js/187.33cf6355.js"><link rel="prefetch" href="/blogPages/assets/js/188.2bee451f.js"><link rel="prefetch" href="/blogPages/assets/js/189.9ad6c9bc.js"><link rel="prefetch" href="/blogPages/assets/js/19.afa8e383.js"><link rel="prefetch" href="/blogPages/assets/js/190.e09ec135.js"><link rel="prefetch" href="/blogPages/assets/js/191.e442adbb.js"><link rel="prefetch" href="/blogPages/assets/js/192.1d52114b.js"><link rel="prefetch" href="/blogPages/assets/js/193.dd17e4c6.js"><link rel="prefetch" href="/blogPages/assets/js/194.807a9f9b.js"><link rel="prefetch" href="/blogPages/assets/js/195.714e39d4.js"><link rel="prefetch" href="/blogPages/assets/js/196.dec82a34.js"><link rel="prefetch" href="/blogPages/assets/js/197.2ae1eb8f.js"><link rel="prefetch" href="/blogPages/assets/js/198.a118e965.js"><link rel="prefetch" href="/blogPages/assets/js/199.b9ee0287.js"><link rel="prefetch" href="/blogPages/assets/js/20.6d521f87.js"><link rel="prefetch" href="/blogPages/assets/js/200.43ba144f.js"><link rel="prefetch" href="/blogPages/assets/js/201.367b7a45.js"><link rel="prefetch" href="/blogPages/assets/js/202.38830093.js"><link rel="prefetch" href="/blogPages/assets/js/203.a2f798c8.js"><link rel="prefetch" href="/blogPages/assets/js/204.b6ea19da.js"><link rel="prefetch" href="/blogPages/assets/js/205.db88bf4e.js"><link rel="prefetch" href="/blogPages/assets/js/206.7e6160bd.js"><link rel="prefetch" href="/blogPages/assets/js/207.689001c6.js"><link rel="prefetch" href="/blogPages/assets/js/208.f95afd68.js"><link rel="prefetch" href="/blogPages/assets/js/209.52968bd5.js"><link rel="prefetch" href="/blogPages/assets/js/21.891edb5e.js"><link rel="prefetch" href="/blogPages/assets/js/210.81ce8c94.js"><link rel="prefetch" href="/blogPages/assets/js/211.10b3d3a1.js"><link rel="prefetch" href="/blogPages/assets/js/212.b59c8e05.js"><link rel="prefetch" href="/blogPages/assets/js/213.4f466de5.js"><link rel="prefetch" href="/blogPages/assets/js/214.79e0d90a.js"><link rel="prefetch" href="/blogPages/assets/js/215.be04d383.js"><link rel="prefetch" href="/blogPages/assets/js/216.30ed7240.js"><link rel="prefetch" href="/blogPages/assets/js/217.dc1e844c.js"><link rel="prefetch" href="/blogPages/assets/js/218.8b529da0.js"><link rel="prefetch" href="/blogPages/assets/js/219.bdfd22ce.js"><link rel="prefetch" href="/blogPages/assets/js/22.9cefb9ed.js"><link rel="prefetch" href="/blogPages/assets/js/220.cd2d6b20.js"><link rel="prefetch" href="/blogPages/assets/js/221.e378215e.js"><link rel="prefetch" href="/blogPages/assets/js/222.96f337e3.js"><link rel="prefetch" href="/blogPages/assets/js/223.10e37547.js"><link rel="prefetch" href="/blogPages/assets/js/224.6613fa26.js"><link rel="prefetch" href="/blogPages/assets/js/225.e8de9e4b.js"><link rel="prefetch" href="/blogPages/assets/js/226.52cf7a7e.js"><link rel="prefetch" href="/blogPages/assets/js/227.6e1150c5.js"><link rel="prefetch" href="/blogPages/assets/js/228.59195d3c.js"><link rel="prefetch" href="/blogPages/assets/js/229.7a8af49b.js"><link rel="prefetch" href="/blogPages/assets/js/23.3e7db05d.js"><link rel="prefetch" href="/blogPages/assets/js/230.b59e7082.js"><link rel="prefetch" href="/blogPages/assets/js/232.4d615f62.js"><link rel="prefetch" href="/blogPages/assets/js/233.322e6a38.js"><link rel="prefetch" href="/blogPages/assets/js/234.f726741a.js"><link rel="prefetch" href="/blogPages/assets/js/235.2d2fc6b7.js"><link rel="prefetch" href="/blogPages/assets/js/236.b0765fb6.js"><link rel="prefetch" href="/blogPages/assets/js/237.b522514f.js"><link rel="prefetch" href="/blogPages/assets/js/238.b0a10949.js"><link rel="prefetch" href="/blogPages/assets/js/239.e05cd6f7.js"><link rel="prefetch" href="/blogPages/assets/js/24.09089cf2.js"><link rel="prefetch" href="/blogPages/assets/js/240.8017efae.js"><link rel="prefetch" href="/blogPages/assets/js/241.a647dc00.js"><link rel="prefetch" href="/blogPages/assets/js/242.a39755a2.js"><link rel="prefetch" href="/blogPages/assets/js/243.f22cc879.js"><link rel="prefetch" href="/blogPages/assets/js/244.0251a355.js"><link rel="prefetch" href="/blogPages/assets/js/245.030f97d6.js"><link rel="prefetch" href="/blogPages/assets/js/246.eb65f86c.js"><link rel="prefetch" href="/blogPages/assets/js/247.83f1228a.js"><link rel="prefetch" href="/blogPages/assets/js/248.8baf02b9.js"><link rel="prefetch" href="/blogPages/assets/js/249.c12ad9dd.js"><link rel="prefetch" href="/blogPages/assets/js/25.1dcde82e.js"><link rel="prefetch" href="/blogPages/assets/js/250.1e367ae0.js"><link rel="prefetch" href="/blogPages/assets/js/251.cd3b8b6c.js"><link rel="prefetch" href="/blogPages/assets/js/252.c1d9e95b.js"><link rel="prefetch" href="/blogPages/assets/js/253.0f3b2b2b.js"><link rel="prefetch" href="/blogPages/assets/js/254.1300bf58.js"><link rel="prefetch" href="/blogPages/assets/js/255.e71e8fd1.js"><link rel="prefetch" href="/blogPages/assets/js/256.a781b878.js"><link rel="prefetch" href="/blogPages/assets/js/257.6047bce5.js"><link rel="prefetch" href="/blogPages/assets/js/258.2b75ca4f.js"><link rel="prefetch" href="/blogPages/assets/js/259.3dac3542.js"><link rel="prefetch" href="/blogPages/assets/js/26.442a5284.js"><link rel="prefetch" href="/blogPages/assets/js/260.4f015c64.js"><link rel="prefetch" href="/blogPages/assets/js/261.bbd6a104.js"><link rel="prefetch" href="/blogPages/assets/js/262.543e9a41.js"><link rel="prefetch" href="/blogPages/assets/js/263.45578d1f.js"><link rel="prefetch" href="/blogPages/assets/js/264.961c7815.js"><link rel="prefetch" href="/blogPages/assets/js/265.393c48e3.js"><link rel="prefetch" href="/blogPages/assets/js/266.6a246b1d.js"><link rel="prefetch" href="/blogPages/assets/js/267.5ead7519.js"><link rel="prefetch" href="/blogPages/assets/js/268.ac8f322a.js"><link rel="prefetch" href="/blogPages/assets/js/269.2c7ceab6.js"><link rel="prefetch" href="/blogPages/assets/js/27.1a40b968.js"><link rel="prefetch" href="/blogPages/assets/js/270.0574c03d.js"><link rel="prefetch" href="/blogPages/assets/js/271.f1659e2f.js"><link rel="prefetch" href="/blogPages/assets/js/272.eb2050fc.js"><link rel="prefetch" href="/blogPages/assets/js/273.354a789a.js"><link rel="prefetch" href="/blogPages/assets/js/274.1228e133.js"><link rel="prefetch" href="/blogPages/assets/js/275.394c4ec9.js"><link rel="prefetch" href="/blogPages/assets/js/276.65895377.js"><link rel="prefetch" href="/blogPages/assets/js/277.7839383e.js"><link rel="prefetch" href="/blogPages/assets/js/28.865d52b2.js"><link rel="prefetch" href="/blogPages/assets/js/29.8acf9431.js"><link rel="prefetch" href="/blogPages/assets/js/3.42b83bd2.js"><link rel="prefetch" href="/blogPages/assets/js/30.94f1b647.js"><link rel="prefetch" href="/blogPages/assets/js/31.708ebdf9.js"><link rel="prefetch" href="/blogPages/assets/js/32.7f03de55.js"><link rel="prefetch" href="/blogPages/assets/js/33.4f017467.js"><link rel="prefetch" href="/blogPages/assets/js/34.f5c2f907.js"><link rel="prefetch" href="/blogPages/assets/js/35.aa001f48.js"><link rel="prefetch" href="/blogPages/assets/js/36.eb60c85a.js"><link rel="prefetch" href="/blogPages/assets/js/37.e31fbe86.js"><link rel="prefetch" href="/blogPages/assets/js/38.952a3c65.js"><link rel="prefetch" href="/blogPages/assets/js/39.fa701de3.js"><link rel="prefetch" href="/blogPages/assets/js/4.cad3a178.js"><link rel="prefetch" href="/blogPages/assets/js/40.f1146ac7.js"><link rel="prefetch" href="/blogPages/assets/js/41.b41b1524.js"><link rel="prefetch" href="/blogPages/assets/js/42.67e51ac3.js"><link rel="prefetch" href="/blogPages/assets/js/43.5b8ee8b1.js"><link rel="prefetch" href="/blogPages/assets/js/44.7a2933f9.js"><link rel="prefetch" href="/blogPages/assets/js/45.43eca009.js"><link rel="prefetch" href="/blogPages/assets/js/46.8b17b531.js"><link rel="prefetch" href="/blogPages/assets/js/47.51f3b902.js"><link rel="prefetch" href="/blogPages/assets/js/48.dcdcecdf.js"><link rel="prefetch" href="/blogPages/assets/js/49.7ebd93d4.js"><link rel="prefetch" href="/blogPages/assets/js/5.9b78ed29.js"><link rel="prefetch" href="/blogPages/assets/js/50.bc20668e.js"><link rel="prefetch" href="/blogPages/assets/js/51.f624689e.js"><link rel="prefetch" href="/blogPages/assets/js/52.32587c4c.js"><link rel="prefetch" href="/blogPages/assets/js/53.9597d1d9.js"><link rel="prefetch" href="/blogPages/assets/js/54.ebbd8840.js"><link rel="prefetch" href="/blogPages/assets/js/55.216003cc.js"><link rel="prefetch" href="/blogPages/assets/js/56.d8aa6c5c.js"><link rel="prefetch" href="/blogPages/assets/js/57.d6b75d95.js"><link rel="prefetch" href="/blogPages/assets/js/58.c26ae01e.js"><link rel="prefetch" href="/blogPages/assets/js/59.2e9430c6.js"><link rel="prefetch" href="/blogPages/assets/js/60.d0b4f988.js"><link rel="prefetch" href="/blogPages/assets/js/61.56295b49.js"><link rel="prefetch" href="/blogPages/assets/js/62.a80cb665.js"><link rel="prefetch" href="/blogPages/assets/js/63.6fc0066e.js"><link rel="prefetch" href="/blogPages/assets/js/64.40c9dcdc.js"><link rel="prefetch" href="/blogPages/assets/js/65.ea35b2e8.js"><link rel="prefetch" href="/blogPages/assets/js/66.2b77f97d.js"><link rel="prefetch" href="/blogPages/assets/js/67.ce376cf5.js"><link rel="prefetch" href="/blogPages/assets/js/68.588eaf51.js"><link rel="prefetch" href="/blogPages/assets/js/69.bb1ef415.js"><link rel="prefetch" href="/blogPages/assets/js/7.0e22bc5e.js"><link rel="prefetch" href="/blogPages/assets/js/70.8fc3bef9.js"><link rel="prefetch" href="/blogPages/assets/js/71.e445ff46.js"><link rel="prefetch" href="/blogPages/assets/js/72.51a05da1.js"><link rel="prefetch" href="/blogPages/assets/js/73.3e9b6a2b.js"><link rel="prefetch" href="/blogPages/assets/js/74.3719d2db.js"><link rel="prefetch" href="/blogPages/assets/js/75.74255ca6.js"><link rel="prefetch" href="/blogPages/assets/js/76.1b43e06f.js"><link rel="prefetch" href="/blogPages/assets/js/77.1fd95d8f.js"><link rel="prefetch" href="/blogPages/assets/js/78.7c73f45b.js"><link rel="prefetch" href="/blogPages/assets/js/79.a31c58be.js"><link rel="prefetch" href="/blogPages/assets/js/8.5fb41da7.js"><link rel="prefetch" href="/blogPages/assets/js/80.92e6bf0a.js"><link rel="prefetch" href="/blogPages/assets/js/81.84f5f558.js"><link rel="prefetch" href="/blogPages/assets/js/82.4ad9f313.js"><link rel="prefetch" href="/blogPages/assets/js/83.d767f201.js"><link rel="prefetch" href="/blogPages/assets/js/84.f85a0682.js"><link rel="prefetch" href="/blogPages/assets/js/85.d23f3225.js"><link rel="prefetch" href="/blogPages/assets/js/86.d30659c0.js"><link rel="prefetch" href="/blogPages/assets/js/87.060b5818.js"><link rel="prefetch" href="/blogPages/assets/js/88.391b0507.js"><link rel="prefetch" href="/blogPages/assets/js/89.f5f35918.js"><link rel="prefetch" href="/blogPages/assets/js/9.a45a02f8.js"><link rel="prefetch" href="/blogPages/assets/js/90.f6afb3ec.js"><link rel="prefetch" href="/blogPages/assets/js/91.9028eb49.js"><link rel="prefetch" href="/blogPages/assets/js/92.4607a108.js"><link rel="prefetch" href="/blogPages/assets/js/93.780c6d79.js"><link rel="prefetch" href="/blogPages/assets/js/94.11ed27dd.js"><link rel="prefetch" href="/blogPages/assets/js/95.dc3ecec1.js"><link rel="prefetch" href="/blogPages/assets/js/96.440f5259.js"><link rel="prefetch" href="/blogPages/assets/js/97.e43387fc.js"><link rel="prefetch" href="/blogPages/assets/js/98.ae9203a0.js"><link rel="prefetch" href="/blogPages/assets/js/99.853784cd.js">
    <link rel="stylesheet" href="/blogPages/assets/css/0.styles.83b5fbe5.css">
  </head>
  <body class="theme-mode-light">
    <div id="app" data-server-rendered="true"><div class="theme-container sidebar-open have-rightmenu"><header class="navbar blur"><div title="目录" class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/blogPages/" class="home-link router-link-active"><!----> <span class="site-name">Jacky's blog</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/blogPages/" class="nav-link">首页</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="前端" class="dropdown-title"><a href="/blogPages/fe/" class="link-title">前端</a> <span class="title" style="display:none;">前端</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>学习笔记</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/blogPages/web/" class="nav-link">web</a></li><li class="dropdown-subitem"><a href="/blogPages/android/" class="nav-link">android</a></li><li class="dropdown-subitem"><a href="/blogPages/iOS/" class="nav-link">iOS</a></li><li class="dropdown-subitem"><a href="/blogPages/vue/" class="nav-link">vue</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="索引" class="dropdown-title"><a href="/blogPages/archives/" class="link-title">索引</a> <span class="title" style="display:none;">索引</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/blogPages/categories/" class="nav-link">分类</a></li><li class="dropdown-item"><!----> <a href="/blogPages/tags/" class="nav-link">标签</a></li><li class="dropdown-item"><!----> <a href="/blogPages/archives/" class="nav-link">归档</a></li></ul></div></div><div class="nav-item"><a href="/blogPages/pages/5a96b7/" class="nav-link">收藏</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="其他" class="dropdown-title"><a href="/blogPages/other/" class="link-title">其他</a> <span class="title" style="display:none;">其他</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/blogPages/tool/" class="nav-link">tool</a></li><li class="dropdown-item"><!----> <a href="/blogPages/algo/" class="nav-link">algo</a></li><li class="dropdown-item"><!----> <a href="/blogPages/python/" class="nav-link">python</a></li><li class="dropdown-item"><!----> <a href="/blogPages/java/" class="nav-link">java</a></li><li class="dropdown-item"><!----> <a href="/blogPages/server/" class="nav-link">server</a></li><li class="dropdown-item"><!----> <a href="/blogPages/growth/" class="nav-link">growth</a></li><li class="dropdown-item"><!----> <a href="/blogPages/pages/0fe5d6/" class="nav-link">frida</a></li><li class="dropdown-item"><!----> <a href="/blogPages/blog/" class="nav-link">blog</a></li><li class="dropdown-item"><!----> <a href="/blogPages/sp/" class="nav-link">SP</a></li><li class="dropdown-item"><!----> <a href="/blogPages/more/" class="nav-link">more</a></li></ul></div></div> <a href="https://github.com/jacky1234" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav></div></header> <div class="sidebar-mask"></div> <div class="sidebar-hover-trigger"></div> <aside class="sidebar" style="display:none;"><div class="blogger"><img src="https://raw.githubusercontent.com/jacky1234/picArchieve/master/uPic/dUmDI0.jpg"> <div class="blogger-info"><h3>Jack Yang</h3> <span>编程; 随笔</span></div></div> <nav class="nav-links"><div class="nav-item"><a href="/blogPages/" class="nav-link">首页</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="前端" class="dropdown-title"><a href="/blogPages/fe/" class="link-title">前端</a> <span class="title" style="display:none;">前端</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>学习笔记</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/blogPages/web/" class="nav-link">web</a></li><li class="dropdown-subitem"><a href="/blogPages/android/" class="nav-link">android</a></li><li class="dropdown-subitem"><a href="/blogPages/iOS/" class="nav-link">iOS</a></li><li class="dropdown-subitem"><a href="/blogPages/vue/" class="nav-link">vue</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="索引" class="dropdown-title"><a href="/blogPages/archives/" class="link-title">索引</a> <span class="title" style="display:none;">索引</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/blogPages/categories/" class="nav-link">分类</a></li><li class="dropdown-item"><!----> <a href="/blogPages/tags/" class="nav-link">标签</a></li><li class="dropdown-item"><!----> <a href="/blogPages/archives/" class="nav-link">归档</a></li></ul></div></div><div class="nav-item"><a href="/blogPages/pages/5a96b7/" class="nav-link">收藏</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="其他" class="dropdown-title"><a href="/blogPages/other/" class="link-title">其他</a> <span class="title" style="display:none;">其他</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/blogPages/tool/" class="nav-link">tool</a></li><li class="dropdown-item"><!----> <a href="/blogPages/algo/" class="nav-link">algo</a></li><li class="dropdown-item"><!----> <a href="/blogPages/python/" class="nav-link">python</a></li><li class="dropdown-item"><!----> <a href="/blogPages/java/" class="nav-link">java</a></li><li class="dropdown-item"><!----> <a href="/blogPages/server/" class="nav-link">server</a></li><li class="dropdown-item"><!----> <a href="/blogPages/growth/" class="nav-link">growth</a></li><li class="dropdown-item"><!----> <a href="/blogPages/pages/0fe5d6/" class="nav-link">frida</a></li><li class="dropdown-item"><!----> <a href="/blogPages/blog/" class="nav-link">blog</a></li><li class="dropdown-item"><!----> <a href="/blogPages/sp/" class="nav-link">SP</a></li><li class="dropdown-item"><!----> <a href="/blogPages/more/" class="nav-link">more</a></li></ul></div></div> <a href="https://github.com/jacky1234" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav>  <ul class="sidebar-links"><li><a href="/blogPages/pages/0d7cc1/" class="sidebar-link">服务器tutorial</a></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>spring</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading open"><span>数据库</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/blogPages/pages/233ea5/" class="sidebar-link">database</a></li><li><section class="sidebar-group collapsable is-sub-group depth-1"><p class="sidebar-heading open"><span>mysql</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/blogPages/pages/e9db87/" aria-current="page" class="active sidebar-link">mysql base</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header level2"><a href="/blogPages/pages/e9db87/#env" class="sidebar-link">env</a></li><li class="sidebar-sub-header level2"><a href="/blogPages/pages/e9db87/#options" class="sidebar-link">options</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header level3"><a href="/blogPages/pages/e9db87/#skip-grant-tables" class="sidebar-link">--skip-grant-tables</a></li></ul></li><li class="sidebar-sub-header level2"><a href="/blogPages/pages/e9db87/#mysqldump" class="sidebar-link">mysqldump</a></li><li class="sidebar-sub-header level2"><a href="/blogPages/pages/e9db87/#mysqld-safe" class="sidebar-link">mysqld_safe</a></li><li class="sidebar-sub-header level2"><a href="/blogPages/pages/e9db87/#mysqld" class="sidebar-link">mysqld</a></li><li class="sidebar-sub-header level2"><a href="/blogPages/pages/e9db87/#内置函数-api" class="sidebar-link">内置函数 API</a></li><li class="sidebar-sub-header level2"><a href="/blogPages/pages/e9db87/#建表约束" class="sidebar-link">建表约束</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header level3"><a href="/blogPages/pages/e9db87/#主键约束" class="sidebar-link">主键约束</a></li><li class="sidebar-sub-header level3"><a href="/blogPages/pages/e9db87/#唯一主键" class="sidebar-link">唯一主键</a></li><li class="sidebar-sub-header level3"><a href="/blogPages/pages/e9db87/#非空约束" class="sidebar-link">非空约束</a></li><li class="sidebar-sub-header level3"><a href="/blogPages/pages/e9db87/#默认约束" class="sidebar-link">默认约束</a></li><li class="sidebar-sub-header level3"><a href="/blogPages/pages/e9db87/#外键约束" class="sidebar-link">外键约束</a></li></ul></li><li class="sidebar-sub-header level2"><a href="/blogPages/pages/e9db87/#数据库设计的三大范式" class="sidebar-link">数据库设计的三大范式</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header level3"><a href="/blogPages/pages/e9db87/#_1-第一范式-1nf" class="sidebar-link">1. 第一范式(1NF)</a></li><li class="sidebar-sub-header level3"><a href="/blogPages/pages/e9db87/#_2-第二范式-2nf" class="sidebar-link">2. 第二范式(2NF)</a></li><li class="sidebar-sub-header level3"><a href="/blogPages/pages/e9db87/#_3-第三范式-3nf" class="sidebar-link">3. 第三范式(3NF)</a></li></ul></li><li class="sidebar-sub-header level2"><a href="/blogPages/pages/e9db87/#other" class="sidebar-link">other</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header level3"><a href="/blogPages/pages/e9db87/#用户及权限" class="sidebar-link">用户及权限</a></li><li class="sidebar-sub-header level3"><a href="/blogPages/pages/e9db87/#密码相关" class="sidebar-link">密码相关</a></li><li class="sidebar-sub-header level3"><a href="/blogPages/pages/e9db87/#清空数据库内的所有-tables" class="sidebar-link">清空数据库内的所有 tables</a></li><li class="sidebar-sub-header level3"><a href="/blogPages/pages/e9db87/#索引优化" class="sidebar-link">索引优化</a></li><li class="sidebar-sub-header level3"><a href="/blogPages/pages/e9db87/#where-having" class="sidebar-link">where &amp; having</a></li><li class="sidebar-sub-header level3"><a href="/blogPages/pages/e9db87/#两个主机中的-mysql-数据库如何做到自动同步" class="sidebar-link">两个主机中的 mysql 数据库如何做到自动同步</a></li><li class="sidebar-sub-header level3"><a href="/blogPages/pages/e9db87/#mysql-登陆密码忘记了" class="sidebar-link">mysql 登陆密码忘记了</a></li><li class="sidebar-sub-header level3"><a href="/blogPages/pages/e9db87/#tableplus-链接" class="sidebar-link">tableplus 链接</a></li></ul></li><li class="sidebar-sub-header level2"><a href="/blogPages/pages/e9db87/#link" class="sidebar-link">link</a></li></ul></li><li><a href="/blogPages/pages/273346/" class="sidebar-link">mysql command</a></li><li><a href="/blogPages/pages/53658f/" class="sidebar-link">mysql case</a></li><li><a href="/blogPages/pages/5659c4/" class="sidebar-link">mysql faq</a></li></ul></section></li><li><a href="/blogPages/pages/4f9d0c/" class="sidebar-link">sqlite</a></li><li><a href="/blogPages/pages/50da41/" class="sidebar-link">PostgreSQL</a></li><li><a href="/blogPages/pages/ae741c/" class="sidebar-link">redis</a></li><li><a href="/blogPages/pages/d94596/" class="sidebar-link">mysql2pgsql</a></li></ul></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>运维</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>other</span> <span class="arrow right"></span></p> <!----></section></li></ul> </aside> <div><main class="page"><div class="theme-vdoing-wrapper "><div class="articleInfo-wrap" data-v-06225672><div class="articleInfo" data-v-06225672><ul class="breadcrumbs" data-v-06225672><li data-v-06225672><a href="/blogPages/" title="首页" class="iconfont icon-home router-link-active" data-v-06225672></a></li> <li data-v-06225672><a href="/blogPages/categories/?category=%E3%80%8Aserver%E3%80%8B" title="分类" data-v-06225672>《server》</a></li><li data-v-06225672><a href="/blogPages/categories/?category=%E6%95%B0%E6%8D%AE%E5%BA%93" title="分类" data-v-06225672>数据库</a></li><li data-v-06225672><a href="/blogPages/categories/?category=mysql" title="分类" data-v-06225672>mysql</a></li></ul> <div class="info" data-v-06225672><div title="作者" class="author iconfont icon-touxiang" data-v-06225672><a href="https://github.com/jacky1234" target="_blank" title="作者" class="beLink" data-v-06225672>Jacky</a></div> <div title="创建时间" class="date iconfont icon-riqi" data-v-06225672><a href="javascript:;" data-v-06225672>2023-09-02</a></div> <!----></div></div></div> <!----> <div class="content-wrapper"><div class="right-menu-wrapper"><div class="right-menu-margin"><div class="right-menu-title">目录</div> <div class="right-menu-content"></div></div></div> <h1><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAeCAYAAAA7MK6iAAAAAXNSR0IArs4c6QAABKFJREFUSA3tVl1oFVcQnrMbrak3QUgkya1akpJYcrUtIqW1JvFBE9LiQ5v6JmJpolbMg32rVrhgoYK0QiMY6i9Y6EMaW5D+xFJaTYItIuK2Kr3+BJNwkxBj05sQY3b3nM6cs2dv9t7NT/vQJw/sndk5M/PNzJkzewGerP+pAmy+ON8lLzUJgA8ZYxYIYZmGYRnctDaWvJJAmTtfP1pvXsBCCPP8QFcCaRkZYACgDZFO4stNIcBCajEOlmmC9XpJ9bAGCaPaPmzPl32dvLSVu3BWCTQs0XQQ6g0DYgwLIoAZbBCdW/i+781o1VVlm/410mw4h06Y7bIPHNyWDyL4FHkX03Q8SrzNhZTZriieckWt7cL6MM85YcLpsi/7O9/iXFT6MswI0DmmpkSaJ0qLxFIm3+i1THHB3zmBH3PYx9CcykcLOeQVVa7QtdxTgQgEleX2AjHYfwA+2ddV77ruGoJUbhGDI09YSNXyMpUt5ylOzxgbUmtOp7NmbNt8v3arjTBfYELmLUV+M+nSawNNAUqpT3ClJWg5I3BLT+cGW/DXNGCa6tx1aakCGEigArTn4TDIPdrXXYKCZNrHLMCOEPvHBlLQ99s9eHB7EB6NTki73CVPQ2F5MSx/uRQixfmq7rK0wYD8w8E905bnPDfwoWs/rfv93NWN/ZfvwsLIU7A09gxECyISeGJkHAau98L97tuw7NXnoPyNF8FcYGLGKsOs0mN3OEyec9esGW/ZEl945dTP34wlR2FZVQWU1q0Cw8Tr7p+hgLLNL0FPxx/Q35mA8aEUrH6nCgwEl0tn7wUiZYJnNRh6DK4UH/k0lfyrsBKdPVv/AriGIQcEDQZ65LBAGe2Rzui9Ybjz7XUppz1/uKBbyVPGkN3ZAeC6hr0x7Nr38N5+EqkoOm17xpoqR9ohQF55ERSvr4Dkr3chNfC3DMzGJlNBElW8w9nsGQvhNGIzDkXzCg8cLK951xHsFBlTJspJNi3ZFIMF2AeDV3q8DNOB+YHi6QTrChDIWDBRi5U5f+ZMfJLu3ccrqxtdxk4SKH336LFxSmkqefwU5T8fhdSdQf9IVKD6aNiwI/hnmcAZ91isYMJIaCUCx9W098+LgruikeTqzqqxKPUwqJyCPJiyemVVZBOijDGjD38Os0jOiSPL1z3SPjXNANbiNPXAdzTfukjjuknNBbyz3nwgTd3AVFqUJ5hpHlq9MveLnWwttUfoygBmvVjuikxND3znrhsELnZk7k+OjIGxeNEkomyLVta0xxn+HZhjBc4YZ/AFjHjz9u3xRZl2BN4aq9nFwWh16IrQ1aHHEd3j1+4/dB9OtH4e29A2H1DyHQRmOSfQZ1Fy7MHBTGB6J/Djq6p3OxyO2cB+4Car7v/o3GXgfAkj23+x9ID1Teoamo/SXcbvSf2PX7Vc8DdCmE1vN9di+32P9/5YR3vLnhCVGUWBjEkr3yh4H8v9CzmsbdhzOKzsJKM90iFdaTMjRPhGVsakRvOaRidljo6H6G7j+ctrJpsP+4COhDIl0La2+FS4+5mlocBaXY5QnGZysIBYoeSsl5qQzrSj/cgNrfuEzlWBfwA+EjrZyWUvpAAAAABJRU5ErkJggg==">mysql base<!----></h1> <!----> <div class="theme-vdoing-content content__default"><h2 id="env"><a href="#env" class="header-anchor">#</a> env</h2> <p>一、使用 brew 安装启动</p> <ul><li><code>brew install mysql</code></li> <li><code>brew services start mysql</code></li></ul> <p>二、客户端</p> <ul><li><a href="https://www.mysql.com/products/workbench/" target="_blank" rel="noopener noreferrer">MySql workbench<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul> <div class="custom-block theorem"><p class="title">shell 使用技巧</p><ul><li><code>ctrl + u</code>: 删除已经输入的命令</li> <li><code>ctrl + a</code>: 光标跳转到行首</li> <li><code>ctrl + e</code>: 光标跳转到行尾</li></ul></div><h2 id="options"><a href="#options" class="header-anchor">#</a> options</h2> <h3 id="skip-grant-tables"><a href="#skip-grant-tables" class="header-anchor">#</a> <code>--skip-grant-tables</code></h3> <blockquote><p>顾名思义，该命令作用是跳过授权表，就是说谁都能进入 MySQL 看到所有数据表，输入任意字符账号密码都可以，当忘记账号密码时可以使用改命令修改密码，但是要随用随关，重启 mysql，不然服务器上会有很大的风险。 <code>mysqld_safe --skip-grant-tables</code>. 可以修改修改配置达到 <code>--skip-grant-tables</code> 的效果</p></blockquote> <span style="color:green;font-weight:bold;" data-v-35c53164>确认 skip-grants 是否作用</span> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code>mysql<span class="token operator">&gt;</span> <span class="token keyword">select</span> current_user<span class="token punctuation">;</span>
+-----------------------------------+
<span class="token operator">|</span> current_user                      <span class="token operator">|</span>
+-----------------------------------+
<span class="token operator">|</span> skip-grants user@skip-grants <span class="token function">host</span> <span class="token operator">|</span>
+-----------------------------------+
<span class="token number">1</span> row <span class="token keyword">in</span> <span class="token builtin class-name">set</span> <span class="token punctuation">(</span><span class="token number">0.00</span> sec<span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><h2 id="mysqldump"><a href="#mysqldump" class="header-anchor">#</a> mysqldump</h2> <ol><li>export</li></ol> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code>mysqldump <span class="token parameter variable">-u</span> <span class="token builtin class-name">test</span> <span class="token parameter variable">-p</span> <span class="token operator">&lt;</span>database<span class="token operator">&gt;</span> <span class="token operator">&gt;</span> <span class="token operator">&lt;</span>dest<span class="token operator">&gt;</span>.sql
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><ol start="2"><li>import</li></ol> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code>mysql<span class="token operator">&gt;</span> use xxl_job<span class="token punctuation">;</span> -- 选择要导入数据的数据库
mysql<span class="token operator">&gt;</span> <span class="token builtin class-name">source</span> <span class="token operator">&lt;</span>dest<span class="token operator">&gt;</span>.sql<span class="token punctuation">;</span> -- 导入 SQL 文件
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><h2 id="mysqld-safe"><a href="#mysqld-safe" class="header-anchor">#</a> mysqld_safe</h2> <p>The <code>mysqld_safe</code> command is used to start and manage the MySQL server daemon (mysqld). It provides a safer way to start mysqld by handling common tasks such as starting, restarting, and stopping MySQL servers. Here are some key aspects of <code>mysqld_safe</code>:</p> <span style="color:green;font-weight:bold;" data-v-35c53164>Purpose</span> <ul><li>Safe Startup: mysqld_safe starts mysqld with error handling and automatic restarting in case mysqld encounters a problem and crashes.</li> <li>Logging: It redirects mysqld output to a log file (hostname.err by default) in the MySQL data directory.</li> <li>Signal Handling: It manages signals to mysqld, allowing for controlled shutdowns and restarts.</li> <li>Privilege Dropping: mysqld_safe starts mysqld with reduced privileges for enhanced security.</li></ul> <span style="color:green;font-weight:bold;" data-v-35c53164>Usage</span> <p>To use <code>mysqld_safe</code>, typically you execute it with sudo or as the mysql user (depending on your system configuration):</p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code><span class="token function">sudo</span> mysqld_safe <span class="token punctuation">[</span>options<span class="token punctuation">]</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><span style="color:green;font-weight:bold;" data-v-35c53164>Common Options</span> <ul><li><code>-defaults-file=&lt;path&gt;</code>: Specify the path to the MySQL configuration file (my.cnf).</li> <li><code>--user=&lt;username&gt;</code>: Specify the user under which mysqld should run.</li> <li><code>--log-error=&lt;file&gt;</code>: Specify the error log file where mysqld errors are logged.</li> <li><code>--pid-file=&lt;file&gt;</code>: Specify the file where mysqld should write its process ID (PID).</li> <li><code>--skip-grant-tables</code>: Start mysqld with skip grant tables, which disables authentication checks for troubleshooting purposes.</li></ul> <h2 id="mysqld"><a href="#mysqld" class="header-anchor">#</a> mysqld</h2> <blockquote><p><code>mysqld</code> is the MySQL server daemon. It is the main program that runs the MySQL database server. When you start mysqld, it listens for network connections and handles database requests from clients. Here's a bit more detail about mysqld and related components:</p></blockquote> <ul><li><code>man mysqld</code></li> <li><code>mysqld --verbose --help</code></li></ul> <h2 id="内置函数-api"><a href="#内置函数-api" class="header-anchor">#</a> 内置函数 API</h2> <blockquote><p><a href="https://www.runoob.com/mysql/mysql-functions.html" target="_blank" rel="noopener noreferrer">https://www.runoob.com/mysql/mysql-functions.html<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p></blockquote> <ul><li>CHAR_LENGTH</li> <li>MAX</li> <li>ANY</li> <li>COUNT: <code>SELECT COUNT(*) FROM &lt;table&gt; xxx</code>; 查询符合条件的个数</li></ul> <span style="color:green;font-weight:bold;" data-v-35c53164>示例</span> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token comment"># 使用子查询来查找 &quot;poet&quot; 表中具有最大字符长度</span>
<span class="token keyword">select</span> id,name,author from poet WHERE CHAR_LENGTH<span class="token punctuation">(</span>name<span class="token punctuation">)</span> <span class="token operator">=</span> <span class="token punctuation">(</span>SELECT MAX<span class="token punctuation">(</span>CHAR_LENGTH<span class="token punctuation">(</span>name<span class="token punctuation">))</span> FROM poet<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><h2 id="建表约束"><a href="#建表约束" class="header-anchor">#</a> 建表约束</h2> <h3 id="主键约束"><a href="#主键约束" class="header-anchor">#</a> 主键约束</h3> <div class="language-mysql line-numbers-mode"><pre class="language-text"><code>-- 主键约束
-- 使某个字段不重复且不得为空, 确保表内所有数据的唯一性。
CREATE TABLE user (
    id INT PRIMARY KEY,
    name VARCHAR(20)
);

-- 联合主键
-- 联合主键中的每个字段都不能为空, 并且加起来不能和已设置的联合主键重复。
CREATE TABLE user (
    id INT,
    name VARCHAR(20),
    password VARCHAR(20),
    PRIMARY KEY(id, name)
);

-- 自增约束
-- 自增约束的主键由系统自动递增分配。
CREATE TABLE user (
    id INT PRIMARY KEY AUTO_INCREMENT,
    name VARCHAR(20)
);

-- 添加主键约束
-- 如果忘记设置主键, 还可以通过SQL语句设置(两种方式):
ALTER TABLE user ADD PRIMARY KEY(id);
ALTER TABLE user MODIFY id INT PRIMARY KEY;

-- 删除主键
ALTER TABLE user drop PRIMARY KEY;
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br></div></div><h3 id="唯一主键"><a href="#唯一主键" class="header-anchor">#</a> 唯一主键</h3> <div class="language-mysql line-numbers-mode"><pre class="language-text"><code>-- 建表时创建唯一主键
CREATE TABLE user (
    id INT,
    name VARCHAR(20),
    UNIQUE(name)
);

-- 添加唯一主键
-- 如果建表时没有设置唯一建, 还可以通过SQL语句设置(两种方式):
ALTER TABLE user ADD UNIQUE(name);
ALTER TABLE user MODIFY name VARCHAR(20) UNIQUE;

-- 删除唯一主键
ALTER TABLE user DROP INDEX name;
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br></div></div><h3 id="非空约束"><a href="#非空约束" class="header-anchor">#</a> 非空约束</h3> <div class="language-mysql line-numbers-mode"><pre class="language-text"><code>-- 建表时添加非空约束
-- 约束某个字段不能为空
CREATE TABLE user (
    id INT,
    name VARCHAR(20) NOT NULL
);

-- 移除非空约束
ALTER TABLE user MODIFY name VARCHAR(20);
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><h3 id="默认约束"><a href="#默认约束" class="header-anchor">#</a> 默认约束</h3> <div class="language-mysql line-numbers-mode"><pre class="language-text"><code>-- 建表时添加默认约束
-- 约束某个字段的默认值
CREATE TABLE user2 (
    id INT,
    name VARCHAR(20),
    age INT DEFAULT 10
);

-- 移除非空约束
ALTER TABLE user MODIFY age INT;
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><h3 id="外键约束"><a href="#外键约束" class="header-anchor">#</a> 外键约束</h3> <div class="language-mysql line-numbers-mode"><pre class="language-text"><code>-- 班级
CREATE TABLE classes (
    id INT PRIMARY KEY,
    name VARCHAR(20)
);

-- 学生表
CREATE TABLE students (
    id INT PRIMARY KEY,
    name VARCHAR(20),
    -- 这里的 class_id 要和 classes 中的 id 字段相关联
    class_id INT,
    -- 表示 class_id 的值必须来自于 classes 中的 id 字段值
    FOREIGN KEY(class_id) REFERENCES classes(id)
);

-- 1. 主表(父表)classes 中没有的数据值, 在副表(子表)students 中, 是不可以使用的；
-- 2. 主表中的记录被副表引用时, 主表不可以被删除。
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br></div></div><h2 id="数据库设计的三大范式"><a href="#数据库设计的三大范式" class="header-anchor">#</a> 数据库设计的三大范式</h2> <blockquote><p>遵循这三大范式，可以使数据库设计更加规范和合理，减少数据冗余，提高数据的完整性和一致性。但在实际设计中，可能会根据具体的业务需求和性能考虑，做出一些适当的权衡和优化。</p></blockquote> <h3 id="_1-第一范式-1nf"><a href="#_1-第一范式-1nf" class="header-anchor">#</a> 1. 第一范式(1NF)</h3> <p><strong>目标</strong>: 确保数据表中的每一列都是不可再分的数据单元，所有列都应该是原子的。</p> <p><strong>特点</strong>:</p> <ul><li>每个表格中的字段都必须是不可分割的最小数据单位。</li> <li>每列中的值都必须是相同类型的数据。</li> <li>确保每列包含的值都是唯一的。</li></ul> <p><strong>示例</strong>:
如果有一个表存储了员工的信息，每个字段(如姓名、年龄、地址等)都必须包含单一的数据单位，而不能将多个信息放在同一个字段中。</p> <table><thead><tr><th>EmpID</th> <th>EmpName</th> <th>Age</th> <th>Address</th></tr></thead> <tbody><tr><td>1</td> <td>Alice</td> <td>30</td> <td>New York</td></tr> <tr><td>2</td> <td>Bob</td> <td>25</td> <td>Los Angeles</td></tr></tbody></table> <h3 id="_2-第二范式-2nf"><a href="#_2-第二范式-2nf" class="header-anchor">#</a> 2. 第二范式(2NF)</h3> <p><strong>目标</strong>: 在满足第一范式的基础上，确保非主键字段完全依赖于主键。</p> <p><strong>特点</strong>:</p> <ul><li>确保每个非主键字段都完全依赖于主键，而不是部分依赖。</li> <li>主要针对组合主键，如果表中存在一个组合主键，则每个非主键字段必须依赖于整个组合主键，而不能只依赖于其中的一部分。</li></ul> <p><strong>示例</strong>:
如果一个表中有复合主键(例如订单 ID 和产品 ID)，那么其他列(如数量和价格)必须依赖于整个复合主键。</p> <table><thead><tr><th>OrderID</th> <th>ProductID</th> <th>Quantity</th> <th>Price</th></tr></thead> <tbody><tr><td>1</td> <td>101</td> <td>2</td> <td>10.00</td></tr> <tr><td>1</td> <td>102</td> <td>1</td> <td>15.00</td></tr> <tr><td>2</td> <td>101</td> <td>1</td> <td>10.00</td></tr></tbody></table> <p>在这个表中，<code>Quantity</code> 和 <code>Price</code> 都完全依赖于组合主键 <code>OrderID</code> 和 <code>ProductID</code>。</p> <h3 id="_3-第三范式-3nf"><a href="#_3-第三范式-3nf" class="header-anchor">#</a> 3. 第三范式(3NF)</h3> <p><strong>目标</strong>: 在满足第二范式的基础上，确保非主键字段之间没有传递依赖关系。</p> <p><strong>特点</strong>:</p> <ul><li>确保非主键字段之间不应存在依赖关系，所有非主键字段都只能依赖于主键。</li> <li>消除传递依赖，使每个非主键字段直接依赖于主键，而不是通过其他非主键字段间接依赖。</li></ul> <p><strong>示例</strong>:
假设有一个员工表，包含部门名称，这个表存在传递依赖(部门名称依赖于部门 ID，部门 ID 依赖于员工 ID)。</p> <table><thead><tr><th>EmpID</th> <th>EmpName</th> <th>DeptID</th> <th>DeptName</th></tr></thead> <tbody><tr><td>1</td> <td>Alice</td> <td>10</td> <td>HR</td></tr> <tr><td>2</td> <td>Bob</td> <td>20</td> <td>IT</td></tr></tbody></table> <p>为了符合第三范式，需要将部门信息拆分成另一个表:</p> <p><strong>员工表</strong>:</p> <table><thead><tr><th>EmpID</th> <th>EmpName</th> <th>DeptID</th></tr></thead> <tbody><tr><td>1</td> <td>Alice</td> <td>10</td></tr> <tr><td>2</td> <td>Bob</td> <td>20</td></tr></tbody></table> <p><strong>部门表</strong>:</p> <table><thead><tr><th>DeptID</th> <th>DeptName</th></tr></thead> <tbody><tr><td>10</td> <td>HR</td></tr> <tr><td>20</td> <td>IT</td></tr></tbody></table> <p>通过这样拆分，确保 <code>DeptName</code> 直接依赖于 <code>DeptID</code>，消除了传递依赖。</p> <h2 id="other"><a href="#other" class="header-anchor">#</a> other</h2> <h3 id="用户及权限"><a href="#用户及权限" class="header-anchor">#</a> 用户及权限</h3> <blockquote><p>mysql 的账户系统, 是在 mysql 数据库的 user 表进行管理的。所以在操作前, 我们先进入通过 <code>mysql -u root</code> 进入 sql shell</p></blockquote> <ul><li><p>增</p> <ul><li><code>CREATE USER 'new_user'@'localhost' IDENTIFIED BY 'password';</code></li> <li><code>GRANT SELECT, INSERT, UPDATE, DELETE ON your_database_name.your_table_name TO '&lt;new_user&gt;'@'localhost';</code>: 授权 CURD 指定的 database 的 test 表
<ul><li><code>GRANT ALL PRIVILEGES ON your_database_name.* TO 'test'@'localhost';</code>: 授予所有权限</li> <li><code>GRANT ALL PRIVILEGES ON</code>%<code>.* TO</code>test<code>@</code>localhost<code>WITH GRANT OPTION</code>: 授予了用户 test 在本地(localhost)对所有数据库(%表示所有数据库)的全部权限</li></ul></li> <li><code>GRANT USAGE ON *.* TO 'test'@'localhost'</code>: 授权 CURD 指定的 database</li> <li><code>FLUSH PRIVILEGES;</code>: Flush the privileges to ensure that the changes take effect</li></ul></li> <li><p>查询用户</p> <ul><li><code>SELECT user, host, Super_priv, Create_priv, Drop_priv, Grant_priv, Shutdown_priv FROM mysql.user;</code> <ul><li>权限信息, 包括 Super_priv(超级用户权限)、Create_priv(创建数据库权限)、Drop_priv(删除数据库权限)、Grant_priv(授权权限)和 Shutdown_priv(关闭 MySQL 服务器权限)</li></ul></li></ul></li> <li><p>删除用户</p> <ul><li><code>DELETE FROM mysql.user WHERE user = 'myuser';</code></li></ul></li> <li><p>查询用户权限</p> <ul><li><code>SHOW GRANTS FOR '&lt;user&gt;'@'localhost';</code></li></ul></li></ul> <h3 id="密码相关"><a href="#密码相关" class="header-anchor">#</a> 密码相关</h3> <blockquote><p><a href="https://cloud.tencent.com/developer/article/1772178" target="_blank" rel="noopener noreferrer">https://cloud.tencent.com/developer/article/1772178<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p></blockquote> <h3 id="清空数据库内的所有-tables"><a href="#清空数据库内的所有-tables" class="header-anchor">#</a> 清空数据库内的所有 tables</h3> <p>要删除一个 MySQL 数据库中的所有表, 你可以执行以下步骤:</p> <p>注意: 删除数据库中的所有表将永久删除这些表, 且无法恢复, 请谨慎操作。</p> <ol><li><p>登录到 MySQL 数据库: 使用合适的 MySQL 客户端, 登录到 MySQL 数据库服务器。你需要提供有效的用户名和密码。</p></li> <li><p>选择要删除表的数据库: 使用 USE 命令选择包含要删除表的数据库。例如, 如果要删除名为 &quot;mydatabase&quot; 的数据库中的所有表, 可以执行以下命令:</p></li></ol> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code>USE mydatabase<span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><ol start="3"><li>列出数据库中的所有表: 你可以使用以下 SQL 查询来列出数据库中的所有表:</li></ol> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code>SHOW TABLES<span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>这将显示数据库中的所有表的列表。</p> <ol start="4"><li>循环删除所有表: 使用 <code>DROP TABLE</code> 命令来删除数据库中的每个表。你可以使用 SHOW TABLES 查询的结果来动态构建删除命令。以下是一个示例 SQL 查询, 用于删除所有表:</li></ol> <div class="language-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">SET</span> FOREIGN_KEY_CHECKS <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> <span class="token comment">-- 禁用外键约束</span>
<span class="token keyword">SET</span> GROUP_CONCAT_MAX_LEN<span class="token operator">=</span><span class="token number">32768</span><span class="token punctuation">;</span>
<span class="token keyword">SELECT</span> GROUP_CONCAT<span class="token punctuation">(</span><span class="token string">'DROP TABLE '</span><span class="token punctuation">,</span> table_name<span class="token punctuation">,</span> <span class="token string">';'</span><span class="token punctuation">)</span> <span class="token keyword">FROM</span> information_schema<span class="token punctuation">.</span><span class="token keyword">tables</span> <span class="token keyword">WHERE</span> table_schema <span class="token operator">=</span> <span class="token string">'mydatabase'</span> <span class="token keyword">INTO</span> <span class="token variable">@drop_queries</span><span class="token punctuation">;</span>
<span class="token keyword">PREPARE</span> drop_stmt <span class="token keyword">FROM</span> <span class="token variable">@drop_queries</span><span class="token punctuation">;</span>
<span class="token keyword">EXECUTE</span> drop_stmt<span class="token punctuation">;</span>
<span class="token keyword">DEALLOCATE</span> <span class="token keyword">PREPARE</span> drop_stmt<span class="token punctuation">;</span>
<span class="token keyword">SET</span> FOREIGN_KEY_CHECKS <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> <span class="token comment">-- 启用外键约束</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><p>这将生成并执行一个包含删除表的 SQL 语句, 逐一删除每个表。</p> <ol start="5"><li>提交更改: 使用 COMMIT 命令来提交更改:</li></ol> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code>COMMIT<span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><ol start="6"><li>退出 MySQL 客户端: 退出 MySQL 客户端。</li></ol> <p>现在, 你的 MySQL 数据库中的所有表应该已经被删除。请务必小心操作, 确保你真的想要删除这些表, 因为这将永久删除它们, 且无法恢复。</p> <h3 id="索引优化"><a href="#索引优化" class="header-anchor">#</a> 索引优化</h3> <p>索引是数据库中的一种关键性能优化工具, 它可以加速数据检索操作, 特别是在大型数据集中。在上面的建议中, 我建议为 &quot;poet&quot; 表的 &quot;author&quot; 列和 &quot;author&quot; 表的 &quot;name&quot; 列创建索引, 这是为了优化连接查询的性能。下面是为什么这样做的一些原因:</p> <ul><li><p><strong>提高查询性能</strong>: 索引允许数据库引擎更快速地查找符合查询条件的行。在连接查询中, 通过在连接列上创建索引, 数据库引擎可以更快地匹配和关联相关的行, 从而提高查询性能。</p></li> <li><p><strong>减少扫描操作</strong>: 在没有索引的情况下, 数据库可能需要执行全表扫描来查找匹配的行, 这在大型表中会非常耗时。通过使用索引, 数据库可以避免全表扫描, 而只需扫描索引, 从而显著减少了查询的执行时间。</p></li> <li><p><strong>减少资源消耗</strong>: 索引还可以减少数据库服务器的资源消耗, 因为它们允许数据库引擎更有效地执行查询。这意味着更少的 CPU 时间和内存用于查询操作, 使数据库服务器能够处理更多的请求。</p></li> <li><p><strong>支持唯一性约束</strong>: 索引可以用于确保列中的数据的唯一性, 这对于确保数据的完整性非常重要。例如, 在 &quot;author&quot; 表的 &quot;name&quot; 列上创建唯一性索引可以确保每个作者名字是唯一的。</p></li> <li><p><strong>加速排序操作</strong>: 索引不仅用于加速查找操作, 还用于加速排序操作。如果您需要对查询结果进行排序, 具有适当索引的列可以显著加速排序过程。</p></li></ul> <p>需要注意的是, 索引并非没有代价的, 它们会增加数据库的存储需求, 并且在插入、更新和删除操作时可能引入轻微的性能开销。因此, 在设计索引时需要权衡性能需求和存储成本。</p> <p>总之, 索引优化的目标是提高查询性能, 减少资源消耗, 并维护数据的完整性。通过在连接列上创建适当的索引, 可以显著改善连接查询的性能, 特别是在大型数据库中。</p> <h3 id="where-having"><a href="#where-having" class="header-anchor">#</a> where &amp; having</h3> <p>WHERE 和 HAVING 子句都用于 SQL 查询中, 但它们用于不同的情况和不同的查询阶段:</p> <ol><li>WHERE 子句:</li></ol> <ul><li>WHERE 子句用于过滤表中的行, 它在查询的 SELECT 语句中用来筛选哪些行将被包括在结果集中。</li> <li>WHERE 子句通常用于筛选行的基本条件, 如等于、不等于、大于、小于等操作符。</li> <li>WHERE 子句用于筛选行之前, 因此它用于表的列。</li> <li>在聚合查询中, WHERE 子句通常用于筛选原始数据行, 然后进行聚合。</li></ul> <p>示例:</p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code>SELECT * FROM scores WHERE score <span class="token operator">&gt;</span> <span class="token number">90</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><ol start="2"><li>HAVING 子句:</li></ol> <ul><li>HAVING 子句用于筛选分组后的结果, 通常与聚合函数一起使用, 如 COUNT、SUM、AVG 等。</li> <li>HAVING 子句通常用于对聚合结果应用条件筛选, 即筛选分组的总体特性。</li> <li>HAVING 子句用于聚合函数的结果, 而不是表的列。</li></ul> <p>示例:</p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code>SELECT COUNT<span class="token punctuation">(</span>c_no<span class="token punctuation">)</span>, c_no FROM score GROUP BY c_no HAVING COUNT<span class="token punctuation">(</span>c_no<span class="token punctuation">)</span> <span class="token operator">&gt;</span> <span class="token number">5</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>在上述示例中, 第一个查询使用 WHERE 子句筛选原始数据行, 而第二个查询使用 HAVING 子句筛选了按 c_no 分组后的聚合结果, 只包括满足条件的分组。</p> <p>总的来说, 如果您要筛选表中的原始数据行, 请使用 WHERE 子句, 而如果您要筛选聚合结果, 请使用 HAVING 子句。</p> <h3 id="两个主机中的-mysql-数据库如何做到自动同步"><a href="#两个主机中的-mysql-数据库如何做到自动同步" class="header-anchor">#</a> 两个主机中的 mysql 数据库如何做到自动同步</h3> <p>在 MySQL 数据库中, 实现两个主机之间的自动同步可以采用 MySQL 复制(replication)的方式。MySQL 复制是一种将一个 MySQL 服务器上的数据自动复制到另一个 MySQL 服务器上的过程。</p> <p>以下是简单的步骤:</p> <p>**1.设置主服务器(Master): **</p> <p>在主服务器上, 做如下配置:</p> <div class="language-my.cnf line-numbers-mode"><pre class="language-text"><code>server-id=1
log-bin=mysql-bin
binlog-do-db=your_database_name
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>这里, server-id 是服务器的唯一标识, log-bin 启用二进制日志, binlog-do-db 指定需要复制的数据库。</p> <p>**2.设置从服务器(Slave): **</p> <p>在从服务器上, 做如下配置:</p> <div class="language-my.cnf line-numbers-mode"><pre class="language-text"><code>server-id=2
relay-log=mysql-relay-bin
log-bin=mysql-bin
replicate-do-db=your_database_name
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p>server-id 是服务器的唯一标识, relay-log 是中继日志, log-bin 启用二进制日志, replicate-do-db 指定需要复制的数据库。</p> <p>**3.启动复制过程: **</p> <p>在从服务器上执行以下 SQL 命令:</p> <div class="language-sql line-numbers-mode"><pre class="language-sql"><code>CHANGE MASTER <span class="token keyword">TO</span>
  MASTER_HOST<span class="token operator">=</span><span class="token string">'master_host_name'</span><span class="token punctuation">,</span>
  MASTER_USER<span class="token operator">=</span><span class="token string">'replication_user'</span><span class="token punctuation">,</span>
  MASTER_PASSWORD<span class="token operator">=</span><span class="token string">'replication_password'</span><span class="token punctuation">,</span>
  MASTER_LOG_FILE<span class="token operator">=</span><span class="token string">'mysql-bin.XXXXXX'</span><span class="token punctuation">,</span>
  MASTER_LOG_POS<span class="token operator">=</span>XXX<span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><p>替换 master_host_name、replication_user、replication_password、mysql-bin.XXXXXX、XXX 为你的主服务器的信息。</p> <p>**4.启动复制: **</p> <p>在从服务器上执行:</p> <div class="language-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">START</span> SLAVE<span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>这将启动从服务器上的复制进程。</p> <p>**5.检查复制状态: **</p> <p>在从服务器上执行:</p> <div class="language-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">SHOW</span> SLAVE <span class="token keyword">STATUS</span>\G<span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>检查 Slave_IO_Running 和 Slave_SQL_Running 的状态是否为 Yes, 表示复制正在运行。</p> <p>这样, 你就设置了一个简单的 MySQL 复制, 使得从服务器能够自动同步主服务器的数据。请注意, 这是一个基本的配置, 具体情况可能需要根据实际需求进行调整。</p> <h3 id="mysql-登陆密码忘记了"><a href="#mysql-登陆密码忘记了" class="header-anchor">#</a> mysql 登陆密码忘记了</h3> <blockquote><p><a href="https://help.aliyun.com/zh/ecs/how-do-i-reset-the-mysql-root-password-when-i-forget-the-password" target="_blank" rel="noopener noreferrer">https://help.aliyun.com/zh/ecs/how-do-i-reset-the-mysql-root-password-when-i-forget-the-password<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p></blockquote> <ol><li>Verify MySQL Data Directory</li></ol> <p>Ensure that the MySQL data directory exists and is owned by the MySQL user. This directory should contain the MySQL databases and the ibdata1 file.</p> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code><span class="token function">sudo</span> <span class="token function">ls</span> <span class="token parameter variable">-la</span> /usr/local/var/mysql
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><ol start="2"><li>Create or Verify my.cnf</li></ol> <p>(mysql 配置文件可以通过 <code>mysql --verbose --help | grep my.cnf</code> 查看可能的配置文件的位置)</p> <p>Ensure that your MySQL configuration file (my.cnf) exists and is correctly configured. If it doesn't exist, create it with the necessary settings. For example:</p> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code><span class="token function">sudo</span> <span class="token function">vim</span> /usr/local/etc/my.cnf
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>Add or ensure the following content is present:</p> <div class="language-ini line-numbers-mode"><pre class="language-ini"><code><span class="token comment"># Default Homebrew MySQL server config</span>
<span class="token section"><span class="token punctuation">[</span><span class="token section-name selector">mysqld</span><span class="token punctuation">]</span></span>
<span class="token comment"># Only allow connections from localhost</span>
<span class="token key attr-name">bind-address</span> <span class="token punctuation">=</span> <span class="token value attr-value">127.0.0.1</span>
<span class="token key attr-name">mysqlx-bind-address</span> <span class="token punctuation">=</span> <span class="token value attr-value">127.0.0.1</span>

<span class="token comment"># Path to the database root</span>
<span class="token key attr-name">datadir</span> <span class="token punctuation">=</span> <span class="token value attr-value">/usr/local/var/mysql</span>

<span class="token comment"># The MySQL server socket file</span>
<span class="token key attr-name">socket</span> <span class="token punctuation">=</span> <span class="token value attr-value">/tmp/mysql.sock</span>

<span class="token section"><span class="token punctuation">[</span><span class="token section-name selector">client</span><span class="token punctuation">]</span></span>
<span class="token comment"># The MySQL client socket file</span>
<span class="token key attr-name">socket</span> <span class="token punctuation">=</span> <span class="token value attr-value">/tmp/mysql.sock</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br></div></div><ol start="3"><li>Check Directory Permissions</li></ol> <p>Ensure that the data directory and necessary subdirectories have the correct permissions:</p> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code><span class="token function">sudo</span> <span class="token function">chown</span> <span class="token parameter variable">-R</span> mysql:mysql /usr/local/var/mysql
<span class="token function">sudo</span> <span class="token function">chmod</span> <span class="token parameter variable">-R</span> <span class="token number">755</span> /usr/local/var/mysql
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><ol start="4"><li>Start MySQL with Verbose Logging</li></ol> <p>Attempt to start MySQL manually with verbose output to get more information:</p> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code><span class="token function">sudo</span> /usr/local/opt/mysql/bin/mysqld --defaults-file<span class="token operator">=</span>/usr/local/etc/my.cnf --skip-grant-tables <span class="token parameter variable">--user</span><span class="token operator">=</span>mysql <span class="token parameter variable">--verbose</span>
<span class="token comment"># sudo mysqld_safe --skip-grant-tables</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><ol start="5"><li>Connect to MySQL。</li></ol> <span style="color:red;font-weight:bold;" data-v-35c53164>在新shell中执行</span> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code>mysql <span class="token parameter variable">-u</span> root
ALTER <span class="token environment constant">USER</span> <span class="token string">'root'</span>@<span class="token string">'localhost'</span> IDENTIFIED WITH caching_sha2_password BY <span class="token string">'12345678'</span><span class="token punctuation">;</span>
FLUSH PRIVILEGES<span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><ol start="6"><li>restart server &amp; login with pwd</li></ol> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code>brew services restart mysql
mysql <span class="token parameter variable">-u</span> root <span class="token parameter variable">-p12345678</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><h3 id="tableplus-链接"><a href="#tableplus-链接" class="header-anchor">#</a> tableplus 链接</h3> <ol><li>Check MySQL Listening Port:</li></ol> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code><span class="token function">sudo</span> <span class="token function">lsof</span> <span class="token parameter variable">-iTCP</span> <span class="token parameter variable">-sTCP:LISTEN</span> <span class="token parameter variable">-P</span> <span class="token operator">|</span> <span class="token function">grep</span> mysql
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>This command should show an output indicating that MySQL is listening on 127.0.0.1:3306.</p> <h2 id="link"><a href="#link" class="header-anchor">#</a> link</h2> <ul><li><a href="https://www.mysql.com/" target="_blank" rel="noopener noreferrer">mysql<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> <ul><li><a href="https://dev.mysql.com/doc/" target="_blank" rel="noopener noreferrer">doc<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></li> <li><a href="https://www.runoob.com/mysql/mysql-functions.html" target="_blank" rel="noopener noreferrer">runoob<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li> <li><a href="http://www.mysqlab.net/docs/view/refman-5.1-zh/chapter/index.html" target="_blank" rel="noopener noreferrer">mysql 实验室<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li> <li>other
<ul><li><a href="https://github.com/baagod/sql_node/blob/master/mysql/MySQL%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0.md" target="_blank" rel="noopener noreferrer">MySQL 学习笔记<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></li> <li>module
<ul><li><a href="http://www.mybatis.org/mybatis-3/zh/index.html" target="_blank" rel="noopener noreferrer">Mybatis<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>, 持久层框架</li></ul></li></ul></div></div> <!----> <div class="page-edit"><!----> <div class="tags"><a href="/blogPages/tags/?tag=base" title="标签">#base</a></div> <div class="last-updated"><span class="prefix">上次更新:</span> <span class="time">2024/10/12, 17:10:18</span></div></div> <div class="page-nav-wapper"><div class="page-nav-centre-wrap"><a href="/blogPages/pages/233ea5/" class="page-nav-centre page-nav-centre-prev"><div class="tooltip">database</div></a> <a href="/blogPages/pages/273346/" class="page-nav-centre page-nav-centre-next"><div class="tooltip">mysql command</div></a></div> <div class="page-nav"><p class="inner"><span class="prev">
        ←
        <a href="/blogPages/pages/233ea5/" class="prev">database</a></span> <span class="next"><a href="/blogPages/pages/273346/">mysql command</a>→
      </span></p></div></div></div> <div class="article-list"><div class="article-title"><a href="/blogPages/archives/" class="iconfont icon-bi">最近更新</a></div> <div class="article-wrapper"><dl><dd>01</dd> <dt><a href="/blogPages/pages/9729d0/"><div>
            mac
            <!----></div></a> <span class="date">10-24</span></dt></dl><dl><dd>02</dd> <dt><a href="/blogPages/pages/ae37cb/"><div>
            xargs
            <!----></div></a> <span class="date">10-24</span></dt></dl><dl><dd>03</dd> <dt><a href="/blogPages/pages/f3e095/"><div>
            brew
            <!----></div></a> <span class="date">10-18</span></dt></dl> <dl><dd></dd> <dt><a href="/blogPages/archives/" class="more">更多文章&gt;</a></dt></dl></div></div></main></div> <div class="footer"><div class="icons"><a href="mailto:jackdoson2011@gmail.com" title="发邮件" target="_blank" class="iconfont icon-youjian"></a><a href="https://github.com/jacky1234" title="Github" target="_blank" class="iconfont icon-github"></a><a href="https://music.163.com/#/my/m/music/playlist?id=317363436" title="听音乐" target="_blank" class="iconfont icon-erji"></a></div> 
  Theme by
  <a href="https://github.com/xugaoyi/vuepress-theme-vdoing" target="_blank" title="本站主题">Vdoing</a> 
    | Copyright © 2019-2024
    <span>Jacky | <a href="https://github.com/xugaoyi/vuepress-theme-vdoing/blob/master/LICENSE" target="_blank">MIT License</a></span></div> <div class="buttons"><div title="返回顶部" class="button blur go-to-top iconfont icon-fanhuidingbu" style="display:none;"></div> <div title="去评论" class="button blur go-to-comment iconfont icon-pinglun" style="display:none;"></div> <div title="主题模式" class="button blur theme-mode-but iconfont icon-zhuti"><ul class="select-box" style="display:none;"><li class="iconfont icon-zidong">
          跟随系统
        </li><li class="iconfont icon-rijianmoshi">
          浅色模式
        </li><li class="iconfont icon-yejianmoshi">
          深色模式
        </li><li class="iconfont icon-yuedu">
          阅读模式
        </li></ul></div></div> <!----> <!----> <!----></div><div class="global-ui"><!----></div></div>
    <script src="/blogPages/assets/js/app.7e06e929.js" defer></script><script src="/blogPages/assets/js/2.ce95ee6e.js" defer></script><script src="/blogPages/assets/js/231.c7b11961.js" defer></script><script src="/blogPages/assets/js/6.69b19f48.js" defer></script>
  </body>
</html>
